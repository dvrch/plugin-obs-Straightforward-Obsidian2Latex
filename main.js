/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};

// src/main.ts
__export(exports, {
  default: () => StraightforwardObsidian2LatexPlugin
});
var import_obsidian4 = __toModule(require("obsidian"));

// src/converter/LatexConverter.ts
var import_obsidian = __toModule(require("obsidian"));

// src/converter/processors/MarkdownProcessor.ts
var MarkdownProcessor = class {
  constructor(app, settings) {
    this.app = app;
    this.settings = settings;
  }
  async process(lines) {
    let processedLines = [...lines];
    processedLines = this.processHeaders(processedLines);
    processedLines = this.processLists(processedLines);
    processedLines = this.processFormatting(processedLines);
    processedLines = this.processLinks(processedLines);
    processedLines = this.processComments(processedLines);
    processedLines = this.processSpecialSymbols(processedLines);
    return processedLines;
  }
  processHeaders(lines) {
    return lines.map((line) => {
      line = line.replace(/^# (.*)$/, "\\section{$1}");
      line = line.replace(/^## (.*)$/, "\\subsection{$1}");
      line = line.replace(/^### (.*)$/, "\\subsubsection{$1}");
      line = line.replace(/^#### (.*)$/, "\\paragraph{$1} \\hspace{0pt} \\\\");
      line = line.replace(/^##### (.*)$/, "\\paragraph{$1} \\hspace{0pt} \\\\");
      line = line.replace(/^###### (.*)$/, "\\paragraph{$1} \\hspace{0pt} \\\\");
      line = line.replace(/^####### (.*)$/, "\\paragraph{$1} \\hspace{0pt} \\\\");
      line = line.replace(/^######## (.*)$/, "\\paragraph{$1} \\hspace{0pt} \\\\");
      line = line.replace(/^# Appendix$/, "\\appendix");
      return line;
    });
  }
  processLists(lines) {
    const processedLines = [];
    let inList = false;
    let listType = "";
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      if (line.match(/^[\s]*[-*+]\s/)) {
        if (!inList) {
          processedLines.push("\\begin{itemize}");
          inList = true;
          listType = "itemize";
        }
        const item = line.replace(/^[\s]*[-*+]\s/, "");
        processedLines.push(`\\item ${item}`);
      } else if (line.match(/^[\s]*\d+\.\s/)) {
        if (!inList) {
          processedLines.push("\\begin{enumerate}");
          inList = true;
          listType = "enumerate";
        }
        const item = line.replace(/^[\s]*\d+\.\s/, "");
        processedLines.push(`\\item ${item}`);
      } else if (inList && line.trim() === "") {
        processedLines.push(`\\end{${listType}}`);
        inList = false;
        listType = "";
      } else {
        if (inList) {
          processedLines.push(`\\end{${listType}}`);
          inList = false;
          listType = "";
        }
        processedLines.push(line);
      }
    }
    if (inList) {
      processedLines.push(`\\end{${listType}}`);
    }
    return processedLines;
  }
  processFormatting(lines) {
    return lines.map((line) => {
      line = line.replace(/\*\*(.*?)\*\*/g, "\\textbf{$1}");
      line = line.replace(/\*(.*?)\*/g, "\\textit{$1}");
      line = line.replace(/==(.*?)==/g, "\\hl{$1}");
      line = line.replace(/~~(.*?)~~/g, "\\st{$1}");
      line = line.replace(/`(.*?)`/g, "\\texttt{$1}");
      line = line.replace(/#(\S+)/g, "\\texttt{$1}");
      return line;
    });
  }
  processLinks(lines) {
    return lines.map((line) => {
      line = line.replace(/\[([^\]]+)\]\(([^)]+)\)/g, "\\href{$2}{$1}");
      line = line.replace(/(https?:\/\/\S+)/g, "\\url{$1}");
      return line;
    });
  }
  processComments(lines) {
    return lines.filter((line) => {
      return !line.trim().startsWith("%%");
    });
  }
  processSpecialSymbols(lines) {
    return lines.map((line) => {
      if (line.trim().startsWith("\\")) {
        return line;
      }
      line = line.replace(/%/g, "\\%");
      line = line.replace(/#/g, "\\#");
      line = line.replace(/\$/g, "\\$");
      line = line.replace(/\{/g, "\\{");
      line = line.replace(/\}/g, "\\}");
      line = line.replace(/\^/g, "\\^{}");
      line = line.replace(/\~/g, "\\~{}");
      line = line.replace(/&/g, "\\&");
      return line;
    });
  }
};

// src/converter/processors/EquationProcessor.ts
var EquationProcessor = class {
  constructor(app, settings) {
    this.app = app;
    this.settings = settings;
  }
  async process(lines) {
    let processedLines = [...lines];
    processedLines = this.processInlineEquations(processedLines);
    processedLines = this.processBlockEquations(processedLines);
    processedLines = this.processAlignedEquations(processedLines);
    processedLines = this.processEquationReferences(processedLines);
    return processedLines;
  }
  processInlineEquations(lines) {
    return lines.map((line) => {
      line = line.replace(/\$([^$]+)\$/g, "\\($1\\)");
      return line;
    });
  }
  processBlockEquations(lines) {
    const processedLines = [];
    let inEquation = false;
    let equationContent = [];
    let equationLabel = "";
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      if (line.includes("$$") && !inEquation) {
        inEquation = true;
        equationContent = [];
        const match = line.match(/\$\$(.*?)\$\$/);
        if (match) {
          equationContent.push(match[1]);
          const labelMatch = line.match(/\\label\{eq__block_([^}]+)\}/);
          if (labelMatch) {
            equationLabel = labelMatch[1];
          }
        }
      } else if (line.includes("$$") && inEquation) {
        inEquation = false;
        const match = line.match(/\$\$(.*?)\$\$/);
        if (match) {
          equationContent.push(match[1]);
        }
        const latexEquation = this.generateLatexEquation(equationContent.join("\n"), equationLabel);
        processedLines.push(latexEquation);
        equationContent = [];
        equationLabel = "";
      } else if (inEquation) {
        equationContent.push(line);
      } else {
        processedLines.push(line);
      }
    }
    return processedLines;
  }
  processAlignedEquations(lines) {
    return lines.map((line) => {
      line = line.replace(/\$\$\s*\\begin\{aligned\}(.*?)\\end\{aligned\}\s*\$\$/gs, (match, content) => {
        return this.convertAlignedToSplit(content);
      });
      line = line.replace(/\$\$\s*\\begin\{align\}(.*?)\\end\{align\}\s*\$\$/gs, (match, content) => {
        return this.convertAlignToSplit(content);
      });
      return line;
    });
  }
  convertAlignedToSplit(content) {
    const lines = content.split("\\\\").map((line) => line.trim());
    const splitContent = lines.map((line) => `		${line}`).join(" \\\\\n");
    return `\\begin{equation}
	\\begin{split}
${splitContent}
	\\end{split}
\\end{equation}`;
  }
  convertAlignToSplit(content) {
    const lines = content.split("\\\\").map((line) => line.trim());
    const splitContent = lines.map((line) => `		${line}`).join(" \\\\\n");
    return `\\begin{equation}
	\\begin{split}
${splitContent}
	\\end{split}
\\end{equation}`;
  }
  processEquationReferences(lines) {
    return lines.map((line) => {
      line = line.replace(/\[\[eq__block_([^\]]+)\]\]/g, "\\eqref{eq:$1}");
      line = line.replace(/\\ref\{eq__block_([^}]+)\}/g, "\\ref{eq:$1}");
      return line;
    });
  }
  generateLatexEquation(content, label) {
    content = content.trim();
    content = content.replace(/^\$\$|\$\$$/g, "").trim();
    const labelPart = label ? ` \\label{eq:${label}}` : "";
    return `\\begin{equation}${labelPart}
	${content}
\\end{equation}`;
  }
  convertNonNumberedToNumbered(lines) {
    return lines.map((line) => {
      const match = line.match(/\$\$\s*(.*?)\s*\$\$\s*\\label\{eq__block_([^}]+)\}/);
      if (match) {
        const equation = match[1].trim();
        const label = match[2];
        return `\\begin{equation} \\label{eq:${label}}
	${equation}
\\end{equation}`;
      }
      return line;
    });
  }
  checkAndCorrectAlignedEquations(lines) {
    return lines.map((line) => {
      if (line.includes("\\begin{aligned}") || line.includes("\\begin{align}")) {
      }
      return line;
    });
  }
};

// src/converter/processors/TableProcessor.ts
var TableProcessor = class {
  constructor(app, settings) {
    this.app = app;
    this.settings = settings;
  }
  async process(lines) {
    let processedLines = [...lines];
    const tableIndexes = this.identifyTables(processedLines);
    processedLines = this.convertTables(processedLines, tableIndexes);
    return processedLines;
  }
  identifyTables(lines) {
    const tableIndexes = [];
    let tableStarted = false;
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const isTableLine = this.isTableLine(line);
      if (isTableLine && !tableStarted) {
        tableStarted = true;
        tableIndexes.push(i);
      } else if (!isTableLine && tableStarted) {
        tableStarted = false;
        tableIndexes.push(i);
      }
    }
    if (tableStarted) {
      tableIndexes.push(lines.length);
    }
    return tableIndexes;
  }
  isTableLine(line) {
    return line.includes("|") && line.trim().length > 0;
  }
  convertTables(lines, tableIndexes) {
    const processedLines = [];
    let tableIndex = 0;
    for (let i = 0; i < lines.length; i++) {
      if (tableIndex < tableIndexes.length && i === tableIndexes[tableIndex]) {
        const startIndex = i;
        const endIndex = tableIndexes[tableIndex + 1];
        const tableLines = lines.slice(startIndex, endIndex);
        const latexTable = this.convertTableToLatex(tableLines);
        processedLines.push(latexTable);
        i = endIndex - 1;
        tableIndex += 2;
      } else if (tableIndex < tableIndexes.length && i === tableIndexes[tableIndex + 1]) {
        continue;
      } else {
        processedLines.push(lines[i]);
      }
    }
    return processedLines;
  }
  convertTableToLatex(tableLines) {
    if (tableLines.length < 2) {
      return tableLines.join("\n");
    }
    const rows = [];
    let headers = [];
    let alignments = [];
    for (let i = 0; i < tableLines.length; i++) {
      const line = tableLines[i].trim();
      if (line.length === 0)
        continue;
      const columns = line.split("|").map((col) => col.trim()).filter((col) => col.length > 0);
      if (i === 0) {
        headers = columns;
      } else if (i === 1) {
        alignments = this.parseAlignments(columns);
      } else {
        rows.push(columns);
      }
    }
    return this.generateLatexTable(headers, alignments, rows);
  }
  parseAlignments(alignmentLine) {
    return alignmentLine.map((col) => {
      col = col.trim();
      if (col.startsWith(":") && col.endsWith(":")) {
        return "c";
      } else if (col.startsWith(":")) {
        return "l";
      } else if (col.endsWith(":")) {
        return "r";
      } else {
        return "l";
      }
    });
  }
  generateLatexTable(headers, alignments, rows) {
    const packageType = this.settings.getTablePackage();
    const alignment = this.settings.getTableAlignment();
    const relWidth = this.settings.getTableRelWidth();
    const columnSpec = alignments.map((align) => {
      switch (align) {
        case "l":
          return "l";
        case "r":
          return "r";
        case "c":
          return "c";
        default:
          return "l";
      }
    }).join("");
    const headerRow = headers.map((header) => this.escapeLatex(header)).join(" & ");
    const dataRows = rows.map((row) => {
      return row.map((cell) => this.escapeLatex(cell)).join(" & ");
    });
    if (packageType === "tabularx") {
      return this.generateTabularxTable(columnSpec, headerRow, dataRows, relWidth);
    } else if (packageType === "longtable") {
      return this.generateLongtableTable(columnSpec, headerRow, dataRows);
    } else {
      return this.generateStandardTable(columnSpec, headerRow, dataRows);
    }
  }
  generateTabularxTable(columnSpec, headerRow, dataRows, relWidth) {
    const width = relWidth > 0 ? `${relWidth}\\linewidth` : "\\linewidth";
    return `\\begin{table}[h]
\\centering
\\begin{tabularx}{${width}}{${columnSpec}}
\\hline
${headerRow} \\\\
\\hline
${dataRows.join(" \\\\\n")} \\\\
\\hline
\\end{tabularx}
\\caption{Caption du tableau}
\\label{tab:table_label}
\\end{table}`;
  }
  generateLongtableTable(columnSpec, headerRow, dataRows) {
    return `\\begin{longtable}{${columnSpec}}
\\hline
${headerRow} \\\\
\\hline
\\endfirsthead
\\hline
${headerRow} \\\\
\\hline
\\endhead
\\hline
\\endfoot
${dataRows.join(" \\\\\n")} \\\\
\\hline
\\caption{Caption du tableau}
\\label{tab:table_label}
\\end{longtable}`;
  }
  generateStandardTable(columnSpec, headerRow, dataRows) {
    return `\\begin{table}[h]
\\centering
\\begin{tabular}{${columnSpec}}
\\hline
${headerRow} \\\\
\\hline
${dataRows.join(" \\\\\n")} \\\\
\\hline
\\end{tabular}
\\caption{Caption du tableau}
\\label{tab:table_label}
\\end{table}`;
  }
  escapeLatex(text) {
    return text.replace(/\\/g, "\\textbackslash{}").replace(/\{/g, "\\{").replace(/\}/g, "\\}").replace(/\$/g, "\\$").replace(/\^/g, "\\^{}").replace(/\~/g, "\\~{}").replace(/\&/g, "\\&").replace(/%/g, "\\%").replace(/#/g, "\\#").replace(/_/g, "\\_");
  }
};

// src/converter/processors/ReferenceProcessor.ts
var ReferenceProcessor = class {
  constructor(app, settings, pathManager) {
    this.app = app;
    this.settings = settings;
    this.pathManager = pathManager;
  }
  async process(lines) {
    let processedLines = [...lines];
    processedLines = await this.processDynamicReferences(processedLines);
    processedLines = this.processInternalLinks(processedLines);
    processedLines = this.processCitations(processedLines);
    if (this.settings.getConvertNonEmbeddedReferences()) {
      processedLines = this.processNonEmbeddedReferences(processedLines);
    }
    processedLines = this.processFigureReferences(processedLines);
    processedLines = this.processTableReferences(processedLines);
    return processedLines;
  }
  async processDynamicReferences(lines) {
    const processedLines = [];
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const refMatch = line.match(/!ref\{([^}]+)\}/);
      if (refMatch) {
        const refName = refMatch[1];
        console.log(`Traitement de la r\xE9f\xE9rence dynamique: ${refName}`);
        const referencedFile = await this.findReferencedFile(refName);
        if (referencedFile) {
          try {
            const content = await this.app.vault.read(referencedFile);
            const contentLines = content.split("\n");
            const latexContent = await this.convertReferencedContentToLatex(contentLines);
            const newLine = line.replace(/!ref\{[^}]+\}/, latexContent.join("\n"));
            processedLines.push(newLine);
          } catch (error) {
            console.error(`Erreur lors de la conversion de ${refName}:`, error);
            processedLines.push(line);
          }
        } else {
          console.warn(`Fichier r\xE9f\xE9renc\xE9 non trouv\xE9: ${refName}`);
          processedLines.push(line);
        }
      } else {
        processedLines.push(line);
      }
    }
    return processedLines;
  }
  async findReferencedFile(refName) {
    const files = this.app.vault.getMarkdownFiles();
    let file = files.find((f) => f.basename === refName);
    if (file)
      return file;
    file = files.find((f) => f.name === `${refName}.md`);
    if (file)
      return file;
    const specialFolders = ["table blocks", "figure blocks", "equation blocks"];
    for (const folder of specialFolders) {
      file = files.find((f) => f.path.includes(folder) && f.basename === refName);
      if (file)
        return file;
    }
    file = files.find((f) => f.path.includes(refName));
    return file || null;
  }
  async convertReferencedContentToLatex(contentLines) {
    const isTable = contentLines.some((line) => line.includes("|") || line.includes("---"));
    const isFigure = contentLines.some((line) => line.includes("![") || line.includes("figure"));
    const isEquation = contentLines.some((line) => line.includes("$$") || line.includes("$"));
    let processedLines = [...contentLines];
    if (isTable) {
      processedLines = this.processTableContent(processedLines);
    } else if (isFigure) {
      processedLines = this.processFigureContent(processedLines);
    } else if (isEquation) {
      processedLines = this.processEquationContent(processedLines);
    } else {
      processedLines = this.processGeneralContent(processedLines);
    }
    return processedLines;
  }
  processTableContent(lines) {
    const processedLines = [];
    let inTable = false;
    let tableContent = [];
    for (const line of lines) {
      if (line.includes("|") && line.includes("---")) {
        if (!inTable) {
          inTable = true;
          tableContent = [];
        }
        tableContent.push(line);
      } else if (inTable && line.trim() === "") {
        inTable = false;
        const latexTable = this.convertTableToLatex(tableContent);
        processedLines.push(...latexTable);
        tableContent = [];
      } else if (inTable) {
        tableContent.push(line);
      } else {
        processedLines.push(line);
      }
    }
    if (inTable && tableContent.length > 0) {
      const latexTable = this.convertTableToLatex(tableContent);
      processedLines.push(...latexTable);
    }
    return processedLines;
  }
  convertTableToLatex(tableLines) {
    if (tableLines.length < 2)
      return tableLines;
    const latexLines = [];
    latexLines.push("\\begin{table}[ht]");
    latexLines.push("\\centering");
    latexLines.push("\\caption{Caption du tableau}");
    latexLines.push("\\label{tab:table}");
    const firstRow = tableLines[0];
    const columns = (firstRow.match(/\|/g) || []).length - 1;
    const columnSpec = "c".repeat(columns);
    latexLines.push(`\\begin{tabular}{${columnSpec}}`);
    latexLines.push("\\hline");
    for (let i = 0; i < tableLines.length; i++) {
      const line = tableLines[i];
      if (line.includes("---"))
        continue;
      const cells = line.split("|").filter((cell) => cell.trim() !== "");
      const latexRow = cells.map((cell) => cell.trim()).join(" & ");
      latexLines.push(latexRow + " \\\\");
      if (i < tableLines.length - 1) {
        latexLines.push("\\hline");
      }
    }
    latexLines.push("\\end{tabular}");
    latexLines.push("\\end{table}");
    return latexLines;
  }
  processFigureContent(lines) {
    return lines.map((line) => {
      line = line.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, (match, alt, src) => {
        return `\\begin{figure}[htb]
\\centering
\\includegraphics[width=0.7\\linewidth]{${src}}
\\caption{${alt || "Caption"}}
\\label{fig:figure}
\\end{figure}`;
      });
      return line;
    });
  }
  processEquationContent(lines) {
    return lines.map((line) => {
      line = line.replace(/\$([^$]+)\$/g, "\\($1\\)");
      line = line.replace(/\$\$([^$]+)\$\$/g, (match, equation) => {
        return `\\begin{equation}
\\label{eq:equation}
${equation}
\\end{equation}`;
      });
      return line;
    });
  }
  processGeneralContent(lines) {
    return lines.map((line) => {
      line = line.replace(/^# (.*)$/, "\\section{$1}");
      line = line.replace(/^## (.*)$/, "\\subsection{$1}");
      line = line.replace(/^### (.*)$/, "\\subsubsection{$1}");
      line = line.replace(/\*\*(.*?)\*\*/g, "\\textbf{$1}");
      line = line.replace(/\*(.*?)\*/g, "\\textit{$1}");
      line = line.replace(/==(.*?)==/g, "\\hl{$1}");
      line = line.replace(/^[\s]*[-*+]\s/, "\\item ");
      return line;
    });
  }
  processInternalLinks(lines) {
    return lines.map((line) => {
      line = line.replace(/\[\[([^\]]+)\]\]/g, (match, noteName) => {
        if (this.isCitation(noteName)) {
          return `\\cite{${noteName}}`;
        }
        return `\\ref{${this.normalizeLabel(noteName)}}`;
      });
      line = line.replace(/\[\[([^\]]+)#([^\]]+)\]\]/g, (match, noteName, sectionName) => {
        const label = this.normalizeLabel(noteName);
        const sectionLabel = this.normalizeLabel(sectionName);
        return `\\ref{${label}:${sectionLabel}}`;
      });
      return line;
    });
  }
  processCitations(lines) {
    return lines.map((line) => {
      line = line.replace(/\[\[p(\d+)\]\]/g, "\\cite{p$1}");
      line = line.replace(/\[\[ref(\d+)\]\]/g, "\\cite{ref$1}");
      return line;
    });
  }
  processNonEmbeddedReferences(lines) {
    return lines.map((line) => {
      line = line.replace(/\[\[([^\]]+)\]\]/g, "$1");
      return line;
    });
  }
  processFigureReferences(lines) {
    return lines.map((line) => {
      line = line.replace(/\[\[figure__block_([^\]]+)\]\]/g, "\\ref{fig:$1}");
      line = line.replace(/\\ref\{figure__block_([^}]+)\}/g, "\\ref{fig:$1}");
      return line;
    });
  }
  processTableReferences(lines) {
    return lines.map((line) => {
      line = line.replace(/\[\[table__block_([^\]]+)\]\]/g, "\\ref{tab:$1}");
      line = line.replace(/\\ref\{table__block_([^}]+)\}/g, "\\ref{tab:$1}");
      return line;
    });
  }
  isCitation(noteName) {
    const citationPattern = /^(p|ref)\d+$/;
    return citationPattern.test(noteName);
  }
  normalizeLabel(label) {
    return label.toLowerCase().replace(/[^a-z0-9]/g, "-").replace(/-+/g, "-").replace(/^-|-$/g, "");
  }
  async findNoteByName(noteName) {
    const files = this.app.vault.getMarkdownFiles();
    let file = files.find((f) => f.basename === noteName);
    if (file)
      return file;
    file = files.find((f) => f.name === `${noteName}.md`);
    if (file)
      return file;
    file = files.find((f) => f.path.includes(noteName));
    return file || null;
  }
  async getNoteContent(noteName) {
    const file = await this.findNoteByName(noteName);
    if (!file)
      return null;
    try {
      return await this.app.vault.read(file);
    } catch (error) {
      console.error(`Erreur lors de la lecture de ${noteName}:`, error);
      return null;
    }
  }
  processSectionReferences(lines) {
    if (!this.settings.getAddSectionNumberAfterReferencing()) {
      return lines;
    }
    return lines.map((line) => {
      line = line.replace(/\\ref\{([^}]+)\}/g, (match, label) => {
        return `${match} (section)`;
      });
      return line;
    });
  }
  processCrossReferences(lines) {
    return lines.map((line) => {
      line = line.replace(/\[\[([^#]+)#([^\]]+)\]\]/g, (match, section, subsection) => {
        const sectionLabel = this.normalizeLabel(section);
        const subsectionLabel = this.normalizeLabel(subsection);
        return `\\ref{${sectionLabel}:${subsectionLabel}}`;
      });
      return line;
    });
  }
};

// src/converter/generators/LatexGenerator.ts
var LatexGenerator = class {
  constructor(app, settings, pathManager) {
    this.app = app;
    this.settings = settings;
    this.pathManager = pathManager;
  }
  async generate(lines, file) {
    const preamble = this.generatePreamble();
    const documentStart = this.generateDocumentStart();
    const mainContent = this.processMainContent(lines);
    const documentEnd = this.generateDocumentEnd();
    return preamble + "\n\n" + documentStart + "\n\n" + mainContent + "\n\n" + documentEnd;
  }
  generatePreamble() {
    const documentClass = this.settings.getDocumentClass();
    const fontSize = this.settings.getFontSize();
    const fontsizeOption = fontSize ? `[${fontSize}]` : "";
    let preamble = `\\documentclass${fontsizeOption}{${documentClass}}`;
    preamble += "\n\\usepackage[table]{xcolor}";
    preamble += "\n\\usepackage{tabularx}";
    preamble += "\n\\usepackage{longtable}";
    preamble += "\n\\usepackage{tabularray}";
    preamble += "\n\\usepackage{enumitem,amssymb}";
    preamble += "\n\\usepackage{hyperref}";
    preamble += "\n\\usepackage{geometry}";
    preamble += "\n\\usepackage{cleveref}";
    preamble += "\n\\newlist{todolist}{itemize}{2}";
    preamble += "\n\\setlist[todolist]{label=$\\square$}";
    preamble += "\n\\newtotcounter{citnum}";
    preamble += "\n\\def\\oldbibitem{} \\let\\oldbibitem=\\bibitem";
    preamble += "\n\\def\\bibitem{\\stepcounter{citnum}\\oldbibitem}";
    const paragraphIndent = this.settings.getParagraphIndent();
    preamble += `
\\setlength{\\parindent}{${paragraphIndent}pt}`;
    const margin = this.settings.getMargin();
    if (margin) {
      preamble += `
\\usepackage[margin=${margin}]{geometry}`;
    }
    preamble += "\n\\hypersetup{";
    preamble += "\n	colorlinks = true,";
    preamble += "\n	urlcolor = blue,";
    preamble += "\n	linkcolor = blue,";
    preamble += "\n	citecolor = blue";
    preamble += "\n}";
    preamble += "\n\\sethlcolor{yellow}";
    preamble += "\n\\setcounter{secnumdepth}{4}";
    preamble += "\n\\setlength{\\parskip}{7pt}";
    preamble += "\n\\let\\oldmarginpar\\marginpar";
    preamble += "\n\\renewcommand\\marginpar[1]{\\oldmarginpar{\\tiny #1}}";
    preamble += "\n\\newcommand{\\ignore}[1]{}";
    if (documentClass === "ifacconf") {
      preamble += "\n\\newcounter{part}";
      preamble += "\n\\counterwithin*{section}{part}";
    }
    return preamble;
  }
  generateDocumentStart() {
    let start = "\\begin{document}";
    if (this.settings.getAllowDisplayBreaks()) {
      start += "\n\\allowdisplaybreaks";
    }
    const author = this.settings.getAuthor();
    if (author) {
      start += `
\\author{${author}}`;
    }
    const title = this.settings.getTitle();
    if (title) {
      start += `
\\title{${title}}`;
      start += "\n\\maketitle";
    }
    return start;
  }
  processMainContent(lines) {
    let textBeforeFirstSection = "";
    let mainContent = "";
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      if (line.startsWith("\\section")) {
        mainContent = lines.slice(i).join("\n");
        break;
      } else {
        textBeforeFirstSection += line + "\n";
      }
    }
    if (textBeforeFirstSection.trim()) {
      mainContent = textBeforeFirstSection + mainContent;
    }
    if (this.settings.getAddTableOfContents()) {
      mainContent = "\\tableofcontents\n\\newpage\n\n" + mainContent;
    }
    return mainContent;
  }
  generateDocumentEnd() {
    let end = "";
    if (this.settings.getAddNewPageBeforeBibliography()) {
      end += "\n\\newpage\n\n";
    }
    end += "\n\\bibliographystyle{apacite}";
    end += "\n\\bibliography{BIBTEX}";
    end += "\n\\end{document}";
    return end;
  }
  generatePackages() {
    const packages = [];
    packages.push("\\usepackage[table]{xcolor}");
    packages.push("\\usepackage{tabularx}");
    packages.push("\\usepackage{longtable}");
    packages.push("\\usepackage{tabularray}");
    const documentClass = this.settings.getDocumentClass();
    if (documentClass === "ifacconf") {
      packages.push("%\u{1F480}\\usepackage{ifacconf}");
    }
    packages.push("\\usepackage{enumitem,amssymb}");
    packages.push("\\usepackage{hyperref}");
    packages.push("\\usepackage{geometry}");
    packages.push("\\usepackage{cleveref}");
    return packages.join("\n");
  }
  generateHyperlinkSetup() {
    return `\\hypersetup{
	colorlinks = true,
	urlcolor = blue,
	linkcolor = blue,
	citecolor = blue
}`;
  }
  generateMarginSetup() {
    const margin = this.settings.getMargin();
    if (margin) {
      return `\\usepackage[margin=${margin}]{geometry}`;
    }
    return "";
  }
  generateParagraphSetup() {
    const indent = this.settings.getParagraphIndent();
    return `\\setlength{\\parindent}{${indent}pt}`;
  }
  getTexFilePath(file) {
    const baseName = this.pathManager.getBasename(file.path);
    const writingPath = this.pathManager.getWritingPath();
    return this.pathManager.joinPaths(writingPath, `${baseName}.tex`);
  }
};

// src/converter/LatexConverter.ts
var LatexConverter = class {
  constructor(app, settings, pathManager) {
    this.app = app;
    this.settings = settings;
    this.pathManager = pathManager;
    this.markdownProcessor = new MarkdownProcessor(this.app, this.settings);
    this.equationProcessor = new EquationProcessor(this.app, this.settings);
    this.tableProcessor = new TableProcessor(this.app, this.settings);
    this.referenceProcessor = new ReferenceProcessor(this.app, this.settings, this.pathManager);
    this.latexGenerator = new LatexGenerator(this.app, this.settings, this.pathManager);
  }
  async convertNoteToLatex(file) {
    try {
      new import_obsidian.Notice("D\xE9but de la conversion en LaTeX...");
      const content = await this.app.vault.read(file);
      const lines = content.split("\n");
      let processedLines = await this.markdownProcessor.process(lines);
      processedLines = await this.equationProcessor.process(processedLines);
      processedLines = await this.tableProcessor.process(processedLines);
      processedLines = await this.referenceProcessor.process(processedLines);
      const latexContent = await this.latexGenerator.generate(processedLines, file);
      const texFilePath = this.getTexFilePath(file);
      await this.saveTexFile(texFilePath, latexContent);
      new import_obsidian.Notice(`Conversion r\xE9ussie ! Fichier cr\xE9\xE9: ${texFilePath}`);
      if (this.settings.getAutoCompile()) {
        await this.compileLatexToPdf(texFilePath);
      }
    } catch (error) {
      console.error("Erreur lors de la conversion:", error);
      new import_obsidian.Notice(`Erreur lors de la conversion: ${error.message}`);
    }
  }
  async showNoteSelectionModal() {
    new NoteSelectionModal(this.app, this).open();
  }
  async compileLatexToPdf(texFilePath) {
    try {
      new import_obsidian.Notice("Compilation LaTeX en cours...");
      if (!texFilePath) {
        const writingPath = this.pathManager.getWritingPath();
        const texFiles = await this.findTexFiles(writingPath);
        if (texFiles.length === 0) {
          throw new Error("Aucun fichier .tex trouv\xE9");
        }
        texFilePath = texFiles[0];
      }
      const result = await this.compileLatex(texFilePath);
      if (result.success) {
        new import_obsidian.Notice("Compilation r\xE9ussie ! PDF g\xE9n\xE9r\xE9.");
      } else {
        throw new Error(`Erreur de compilation: ${result.error}`);
      }
    } catch (error) {
      console.error("Erreur lors de la compilation:", error);
      new import_obsidian.Notice(`Erreur lors de la compilation: ${error.message}`);
    }
  }
  async runCompleteTest() {
    try {
      new import_obsidian.Notice("Lancement du test complet...");
      await this.testPaths();
      const testFile = await this.findTestFile();
      if (testFile) {
        await this.convertNoteToLatex(testFile);
      }
      await this.compileLatexToPdf();
      new import_obsidian.Notice("Test complet r\xE9ussi !");
    } catch (error) {
      console.error("Erreur lors du test complet:", error);
      new import_obsidian.Notice(`Erreur lors du test complet: ${error.message}`);
    }
  }
  getTexFilePath(file) {
    const baseName = this.pathManager.getBasename(file.path);
    const writingPath = this.pathManager.getWritingPath();
    return this.pathManager.joinPaths(writingPath, `${baseName}.tex`);
  }
  async saveTexFile(filePath, content) {
    const dir = this.pathManager.getDirectory(filePath);
    await this.pathManager.ensureDirectory(dir);
    await this.app.vault.adapter.write(filePath, content);
  }
  async findTexFiles(dirPath) {
    try {
      const files = await this.app.vault.adapter.list(dirPath);
      return files.files.filter((file) => file.endsWith(".tex")).map((file) => this.pathManager.joinPaths(dirPath, file)).sort((a, b) => {
        return 0;
      });
    } catch (error) {
      console.error("Erreur lors de la recherche de fichiers .tex:", error);
      return [];
    }
  }
  async compileLatex(texFilePath) {
    console.log(`Compilation de ${texFilePath}`);
    return { success: true };
  }
  async testPaths() {
    const paths = [
      this.pathManager.getWritingPath(),
      this.pathManager.getAutomationsPath(),
      this.pathManager.getLiteraturePath(),
      this.pathManager.getEquationBlocksPath(),
      this.pathManager.getTableBlocksPath()
    ];
    for (const path2 of paths) {
      await this.pathManager.ensureDirectory(path2);
    }
  }
  async findTestFile() {
    const files = this.app.vault.getMarkdownFiles();
    const testFiles = files.filter((file) => file.path.includes("\u270DWriting") && !file.path.includes("\u{1F468}\u200D\u{1F4BB}"));
    return testFiles.length > 0 ? testFiles[0] : null;
  }
};
var NoteSelectionModal = class extends import_obsidian.SuggestModal {
  constructor(app, converter) {
    super(app);
    this.converter = converter;
  }
  getSuggestions(query) {
    const files = this.app.vault.getMarkdownFiles();
    return files.filter((file) => file.path.toLowerCase().includes(query.toLowerCase()) && file.path.includes("\u270DWriting"));
  }
  renderSuggestion(file, el) {
    el.createEl("div", { text: file.basename });
    el.createEl("small", { text: file.path });
  }
  async onChooseSuggestion(file, evt) {
    await this.converter.convertNoteToLatex(file);
  }
};

// src/utils/PathManager.ts
var import_obsidian2 = __toModule(require("obsidian"));
var path = {
  normalize: (p) => p.replace(/\\/g, "/").replace(/\/+/g, "/"),
  join: (...paths) => paths.join("/").replace(/\/+/g, "/"),
  dirname: (p) => p.split("/").slice(0, -1).join("/") || ".",
  basename: (p, ext) => {
    const name = p.split("/").pop() || "";
    return ext ? name.replace(new RegExp(ext + "$"), "") : name;
  },
  resolve: (...paths) => {
    const joined = paths.join("/");
    return joined.startsWith("/") ? joined : "/" + joined;
  },
  isAbsolute: (p) => p.startsWith("/"),
  extname: (p) => {
    const match = p.match(/\.[^\/]*$/);
    return match ? match[0] : "";
  },
  sep: "/"
};
var PathManager = class {
  constructor(app) {
    this.app = app;
    if (app.vault.adapter instanceof import_obsidian2.FileSystemAdapter) {
      this.vaultPath = app.vault.adapter.getBasePath();
    } else {
      throw new Error("L'adapter du vault n'est pas FileSystemAdapter, impossible de r\xE9cup\xE9rer le chemin absolu du vault.");
    }
  }
  normalizePath(inputPath) {
    return path.normalize(inputPath);
  }
  joinPaths(...paths) {
    return path.join(...paths);
  }
  getVaultPath() {
    return this.vaultPath;
  }
  getAbsolutePath(relativePath) {
    return path.resolve(this.vaultPath, relativePath);
  }
  isAbsolutePath(inputPath) {
    return path.isAbsolute(inputPath);
  }
  getDirectory(filePath) {
    return path.dirname(filePath);
  }
  getBasename(filePath) {
    return path.basename(filePath, path.extname(filePath));
  }
  getExtension(filePath) {
    return path.extname(filePath);
  }
  getWritingPath() {
    return this.joinPaths(this.vaultPath, "\u270DWriting");
  }
  getAutomationsPath() {
    return this.joinPaths(this.vaultPath, "\u{1F468}\u200D\u{1F4BB}Automations");
  }
  getLiteraturePath() {
    return this.joinPaths(this.vaultPath, "\u{1F4DA}Literature");
  }
  getEquationBlocksPath() {
    return this.joinPaths(this.getWritingPath(), "equation blocks");
  }
  getTableBlocksPath() {
    return this.joinPaths(this.getWritingPath(), "table blocks");
  }
  getFilePath(file) {
    if (this.app.vault.adapter instanceof import_obsidian2.FileSystemAdapter) {
      return this.app.vault.adapter.getFullPath(file.path);
    } else {
      throw new Error("L'adapter du vault n'est pas FileSystemAdapter, impossible de r\xE9cup\xE9rer le chemin absolu du fichier.");
    }
  }
  async fileExists(filePath) {
    try {
      await this.app.vault.adapter.stat(filePath);
      return true;
    } catch (e) {
      return false;
    }
  }
  async ensureDirectory(dirPath) {
    try {
      await this.app.vault.adapter.mkdir(dirPath);
    } catch (error) {
      console.log(`R\xE9pertoire ${dirPath} existe d\xE9j\xE0 ou erreur:`, error);
    }
  }
  getPathSeparator() {
    return path.sep;
  }
  toUnixPath(inputPath) {
    return inputPath.replace(/\\/g, "/");
  }
  toWindowsPath(inputPath) {
    return inputPath.replace(/\//g, "\\");
  }
};

// src/settings/SettingsManager.ts
var DEFAULT_SETTINGS = {
  documentClass: "extarticle",
  fontSize: "",
  author: "Auteur",
  title: "",
  margin: "0.9in",
  paragraphIndent: 0,
  addTableOfContents: true,
  addNewPageBeforeBibliography: true,
  allowDisplayBreaks: true,
  reduceSpacingBetweenFigures: false,
  putFigureBelowText: true,
  includePath: true,
  convertNonEmbeddedReferences: true,
  treatEquationBlocksSeparately: true,
  adaptSectionHierarchy: true,
  addSectionNumberAfterReferencing: true,
  tablePackage: "tabularx",
  tableAlignment: "center",
  tableRelWidth: 1.2,
  latexCompiler: "pdflatex",
  autoCompile: true,
  writingPath: "",
  automationsPath: "",
  literaturePath: "",
  equationBlocksPath: "",
  tableBlocksPath: ""
};
var SettingsManager = class {
  constructor() {
    this.settings = DEFAULT_SETTINGS;
  }
  async loadSettings() {
    this.settings = { ...DEFAULT_SETTINGS };
  }
  async saveSettings() {
    console.log("Sauvegarde des param\xE8tres:", this.settings);
  }
  getSettings() {
    return { ...this.settings };
  }
  updateSettings(newSettings) {
    this.settings = { ...this.settings, ...newSettings };
  }
  getDocumentClass() {
    return this.settings.documentClass;
  }
  getFontSize() {
    return this.settings.fontSize;
  }
  getAuthor() {
    return this.settings.author;
  }
  getTitle() {
    return this.settings.title;
  }
  getMargin() {
    return this.settings.margin;
  }
  getParagraphIndent() {
    return this.settings.paragraphIndent;
  }
  getAddTableOfContents() {
    return this.settings.addTableOfContents;
  }
  getAddNewPageBeforeBibliography() {
    return this.settings.addNewPageBeforeBibliography;
  }
  getAllowDisplayBreaks() {
    return this.settings.allowDisplayBreaks;
  }
  getReduceSpacingBetweenFigures() {
    return this.settings.reduceSpacingBetweenFigures;
  }
  getPutFigureBelowText() {
    return this.settings.putFigureBelowText;
  }
  getIncludePath() {
    return this.settings.includePath;
  }
  getConvertNonEmbeddedReferences() {
    return this.settings.convertNonEmbeddedReferences;
  }
  getTreatEquationBlocksSeparately() {
    return this.settings.treatEquationBlocksSeparately;
  }
  getAdaptSectionHierarchy() {
    return this.settings.adaptSectionHierarchy;
  }
  getAddSectionNumberAfterReferencing() {
    return this.settings.addSectionNumberAfterReferencing;
  }
  getTablePackage() {
    return this.settings.tablePackage;
  }
  getTableAlignment() {
    return this.settings.tableAlignment;
  }
  getTableRelWidth() {
    return this.settings.tableRelWidth;
  }
  getLatexCompiler() {
    return this.settings.latexCompiler;
  }
  getAutoCompile() {
    return this.settings.autoCompile;
  }
  setWritingPath(path2) {
    this.settings.writingPath = path2;
  }
  setAutomationsPath(path2) {
    this.settings.automationsPath = path2;
  }
  setLiteraturePath(path2) {
    this.settings.literaturePath = path2;
  }
  setEquationBlocksPath(path2) {
    this.settings.equationBlocksPath = path2;
  }
  setTableBlocksPath(path2) {
    this.settings.tableBlocksPath = path2;
  }
};

// src/settings/LatexSettingsTab.ts
var import_obsidian3 = __toModule(require("obsidian"));
var LatexSettingsTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Param\xE8tres LaTeX" });
    this.createBasicSettingsSection(containerEl);
    this.createParagraphSettingsSection(containerEl);
    this.createFigureSettingsSection(containerEl);
    this.createReferenceSettingsSection(containerEl);
    this.createTableSettingsSection(containerEl);
    this.createCompilationSettingsSection(containerEl);
  }
  createBasicSettingsSection(containerEl) {
    containerEl.createEl("h3", { text: "Param\xE8tres de base" });
    new import_obsidian3.Setting(containerEl).setName("Classe de document").setDesc("Classe LaTeX \xE0 utiliser").addDropdown((dropdown) => dropdown.addOption("extarticle", "Article \xE9tendu").addOption("article", "Article standard").addOption("ifacconf", "Conf\xE9rence IFAC").setValue(this.plugin.settings.getDocumentClass()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ documentClass: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Taille de police").setDesc("Taille de police (ex: 12pt, 11pt)").addText((text) => text.setPlaceholder("12pt").setValue(this.plugin.settings.getFontSize()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ fontSize: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Auteur").setDesc("Nom de l'auteur").addText((text) => text.setPlaceholder("Votre nom").setValue(this.plugin.settings.getAuthor()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ author: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Titre").setDesc("Titre du document").addText((text) => text.setPlaceholder("Titre du document").setValue(this.plugin.settings.getTitle()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ title: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Marges").setDesc("Marges de page (ex: 0.9in)").addText((text) => text.setPlaceholder("0.9in").setValue(this.plugin.settings.getMargin()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ margin: value });
      await this.plugin.settings.saveSettings();
    }));
  }
  createParagraphSettingsSection(containerEl) {
    containerEl.createEl("h3", { text: "Param\xE8tres de paragraphe" });
    new import_obsidian3.Setting(containerEl).setName("Indentation premi\xE8re ligne").setDesc("Indentation en points (0 pour aucune)").addSlider((slider) => slider.setLimits(0, 50, 5).setValue(this.plugin.settings.getParagraphIndent()).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.updateSettings({ paragraphIndent: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Table des mati\xE8res").setDesc("Ajouter une table des mati\xE8res").addToggle((toggle) => toggle.setValue(this.plugin.settings.getAddTableOfContents()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ addTableOfContents: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Nouvelle page avant bibliographie").setDesc("Ins\xE9rer une nouvelle page avant la bibliographie").addToggle((toggle) => toggle.setValue(this.plugin.settings.getAddNewPageBeforeBibliography()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ addNewPageBeforeBibliography: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Autoriser les sauts de page").setDesc("Autoriser les sauts de page dans les \xE9quations").addToggle((toggle) => toggle.setValue(this.plugin.settings.getAllowDisplayBreaks()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ allowDisplayBreaks: value });
      await this.plugin.settings.saveSettings();
    }));
  }
  createFigureSettingsSection(containerEl) {
    containerEl.createEl("h3", { text: "Param\xE8tres de figures" });
    new import_obsidian3.Setting(containerEl).setName("R\xE9duire l'espacement entre figures").setDesc("R\xE9duire l'espacement entre les figures").addToggle((toggle) => toggle.setValue(this.plugin.settings.getReduceSpacingBetweenFigures()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ reduceSpacingBetweenFigures: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Figure sous le texte").setDesc("Placer les figures sous le texte").addToggle((toggle) => toggle.setValue(this.plugin.settings.getPutFigureBelowText()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ putFigureBelowText: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Inclure le chemin").setDesc("Inclure le chemin complet des images").addToggle((toggle) => toggle.setValue(this.plugin.settings.getIncludePath()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ includePath: value });
      await this.plugin.settings.saveSettings();
    }));
  }
  createReferenceSettingsSection(containerEl) {
    containerEl.createEl("h3", { text: "Param\xE8tres de r\xE9f\xE9rences" });
    new import_obsidian3.Setting(containerEl).setName("Convertir les r\xE9f\xE9rences non-embarqu\xE9es").setDesc("Convertir [[note]] en texte simple").addToggle((toggle) => toggle.setValue(this.plugin.settings.getConvertNonEmbeddedReferences()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ convertNonEmbeddedReferences: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Traiter les blocs d'\xE9quations s\xE9par\xE9ment").setDesc("Traiter les blocs d'\xE9quations de mani\xE8re s\xE9par\xE9e").addToggle((toggle) => toggle.setValue(this.plugin.settings.getTreatEquationBlocksSeparately()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ treatEquationBlocksSeparately: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Adapter la hi\xE9rarchie des sections").setDesc("Adapter la hi\xE9rarchie des sections dans les notes embarqu\xE9es").addToggle((toggle) => toggle.setValue(this.plugin.settings.getAdaptSectionHierarchy()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ adaptSectionHierarchy: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Num\xE9ro de section apr\xE8s r\xE9f\xE9rence").setDesc("Ajouter le num\xE9ro de section apr\xE8s les r\xE9f\xE9rences internes").addToggle((toggle) => toggle.setValue(this.plugin.settings.getAddSectionNumberAfterReferencing()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ addSectionNumberAfterReferencing: value });
      await this.plugin.settings.saveSettings();
    }));
  }
  createTableSettingsSection(containerEl) {
    containerEl.createEl("h3", { text: "Param\xE8tres de tableaux" });
    new import_obsidian3.Setting(containerEl).setName("Package de tableau").setDesc("Package LaTeX pour les tableaux").addDropdown((dropdown) => dropdown.addOption("tabularx", "tabularx").addOption("longtable", "longtable").addOption("tabularray", "tabularray").setValue(this.plugin.settings.getTablePackage()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ tablePackage: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Alignement des tableaux").setDesc("Alignement par d\xE9faut des tableaux").addDropdown((dropdown) => dropdown.addOption("center", "Centr\xE9").addOption("left", "Gauche").addOption("right", "Droite").setValue(this.plugin.settings.getTableAlignment()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ tableAlignment: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Largeur relative des tableaux").setDesc("Largeur relative des tableaux (1.0 = 100%)").addSlider((slider) => slider.setLimits(0.5, 2, 0.1).setValue(this.plugin.settings.getTableRelWidth()).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.updateSettings({ tableRelWidth: value });
      await this.plugin.settings.saveSettings();
    }));
  }
  createCompilationSettingsSection(containerEl) {
    containerEl.createEl("h3", { text: "Param\xE8tres de compilation" });
    new import_obsidian3.Setting(containerEl).setName("Compilateur LaTeX").setDesc("Compilateur LaTeX \xE0 utiliser").addDropdown((dropdown) => dropdown.addOption("pdflatex", "pdflatex").addOption("xelatex", "xelatex").addOption("lualatex", "lualatex").setValue(this.plugin.settings.getLatexCompiler()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ latexCompiler: value });
      await this.plugin.settings.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Compilation automatique").setDesc("Compiler automatiquement apr\xE8s conversion").addToggle((toggle) => toggle.setValue(this.plugin.settings.getAutoCompile()).onChange(async (value) => {
      this.plugin.settings.updateSettings({ autoCompile: value });
      await this.plugin.settings.saveSettings();
    }));
  }
};

// src/main.ts
var StraightforwardObsidian2LatexPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    console.log("Chargement du plugin Straightforward Obsidian2Latex");
    this.pathManager = new PathManager(this.app);
    this.settings = new SettingsManager();
    this.converter = new LatexConverter(this.app, this.settings, this.pathManager);
    await this.settings.loadSettings();
    this.addCommands();
    this.addSettingTab(new LatexSettingsTab(this.app, this));
  }
  onunload() {
    console.log("D\xE9chargement du plugin Straightforward Obsidian2Latex");
  }
  addCommands() {
    this.addCommand({
      id: "convert-current-note-to-latex",
      name: "Convertir la note actuelle en LaTeX",
      editorCallback: async (editor, ctx) => {
        const file = ctx.file;
        if (file) {
          await this.converter.convertNoteToLatex(file);
        }
      }
    });
    this.addCommand({
      id: "convert-specific-note-to-latex",
      name: "Convertir une note sp\xE9cifique en LaTeX",
      callback: async () => {
        await this.converter.showNoteSelectionModal();
      }
    });
    this.addCommand({
      id: "compile-latex-to-pdf",
      name: "Compiler le LaTeX en PDF",
      callback: async () => {
        await this.converter.compileLatexToPdf();
      }
    });
    this.addCommand({
      id: "run-complete-test",
      name: "Lancer le test complet",
      callback: async () => {
        await this.converter.runCompleteTest();
      }
    });
    this.addCommand({
      id: "open-latex-settings",
      name: "Ouvrir les param\xE8tres LaTeX",
      callback: () => {
        if (this.app.setting && typeof this.app.setting.openTabById === "function") {
          this.app.setting.openTabById(this.manifest.id);
        } else {
          console.warn("Impossible d'ouvrir le panneau de param\xE8tres automatiquement sur cette version d'Obsidian.");
        }
      }
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2NvbnZlcnRlci9MYXRleENvbnZlcnRlci50cyIsICJzcmMvY29udmVydGVyL3Byb2Nlc3NvcnMvTWFya2Rvd25Qcm9jZXNzb3IudHMiLCAic3JjL2NvbnZlcnRlci9wcm9jZXNzb3JzL0VxdWF0aW9uUHJvY2Vzc29yLnRzIiwgInNyYy9jb252ZXJ0ZXIvcHJvY2Vzc29ycy9UYWJsZVByb2Nlc3Nvci50cyIsICJzcmMvY29udmVydGVyL3Byb2Nlc3NvcnMvUmVmZXJlbmNlUHJvY2Vzc29yLnRzIiwgInNyYy9jb252ZXJ0ZXIvZ2VuZXJhdG9ycy9MYXRleEdlbmVyYXRvci50cyIsICJzcmMvdXRpbHMvUGF0aE1hbmFnZXIudHMiLCAic3JjL3NldHRpbmdzL1NldHRpbmdzTWFuYWdlci50cyIsICJzcmMvc2V0dGluZ3MvTGF0ZXhTZXR0aW5nc1RhYi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTGF0ZXhDb252ZXJ0ZXIgfSBmcm9tICcuL2NvbnZlcnRlci9MYXRleENvbnZlcnRlcic7XG5pbXBvcnQgeyBQYXRoTWFuYWdlciB9IGZyb20gJy4vdXRpbHMvUGF0aE1hbmFnZXInO1xuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSAnLi9zZXR0aW5ncy9TZXR0aW5nc01hbmFnZXInO1xuaW1wb3J0IHsgTGF0ZXhTZXR0aW5nc1RhYiB9IGZyb20gJy4vc2V0dGluZ3MvTGF0ZXhTZXR0aW5nc1RhYic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmFpZ2h0Zm9yd2FyZE9ic2lkaWFuMkxhdGV4UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlcjtcblx0Y29udmVydGVyOiBMYXRleENvbnZlcnRlcjtcblx0cGF0aE1hbmFnZXI6IFBhdGhNYW5hZ2VyO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZygnQ2hhcmdlbWVudCBkdSBwbHVnaW4gU3RyYWlnaHRmb3J3YXJkIE9ic2lkaWFuMkxhdGV4Jyk7XG5cblx0XHQvLyBJbml0aWFsaXNhdGlvbiBkZXMgbWFuYWdlcnNcblx0XHR0aGlzLnBhdGhNYW5hZ2VyID0gbmV3IFBhdGhNYW5hZ2VyKHRoaXMuYXBwKTtcblx0XHR0aGlzLnNldHRpbmdzID0gbmV3IFNldHRpbmdzTWFuYWdlcigpO1xuXHRcdHRoaXMuY29udmVydGVyID0gbmV3IExhdGV4Q29udmVydGVyKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzLCB0aGlzLnBhdGhNYW5hZ2VyKTtcblxuXHRcdC8vIENoYXJnZW1lbnQgZGVzIHBhcmFtXHUwMEU4dHJlc1xuXHRcdGF3YWl0IHRoaXMuc2V0dGluZ3MubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBBam91dCBkZXMgY29tbWFuZGVzXG5cdFx0dGhpcy5hZGRDb21tYW5kcygpO1xuXG5cdFx0Ly8gQWpvdXQgZGUgbCdvbmdsZXQgZGUgcGFyYW1cdTAwRTh0cmVzXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBMYXRleFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZygnRFx1MDBFOWNoYXJnZW1lbnQgZHUgcGx1Z2luIFN0cmFpZ2h0Zm9yd2FyZCBPYnNpZGlhbjJMYXRleCcpO1xuXHR9XG5cblx0cHJpdmF0ZSBhZGRDb21tYW5kcygpIHtcblx0XHQvLyBDb21tYW5kZSBwcmluY2lwYWxlIGRlIGNvbnZlcnNpb25cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjb252ZXJ0LWN1cnJlbnQtbm90ZS10by1sYXRleCcsXG5cdFx0XHRuYW1lOiAnQ29udmVydGlyIGxhIG5vdGUgYWN0dWVsbGUgZW4gTGFUZVgnLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IGFzeW5jIChlZGl0b3I6IEVkaXRvciwgY3R4OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc3QgZmlsZSA9IGN0eC5maWxlO1xuXHRcdFx0XHRpZiAoZmlsZSkge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuY29udmVydGVyLmNvbnZlcnROb3RlVG9MYXRleChmaWxlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gQ29tbWFuZGUgcG91ciBjb252ZXJ0aXIgdW5lIG5vdGUgc3BcdTAwRTljaWZpcXVlXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnY29udmVydC1zcGVjaWZpYy1ub3RlLXRvLWxhdGV4Jyxcblx0XHRcdG5hbWU6ICdDb252ZXJ0aXIgdW5lIG5vdGUgc3BcdTAwRTljaWZpcXVlIGVuIExhVGVYJyxcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdC8vIE91dnJpciB1bmUgbW9kYWxlIHBvdXIgc1x1MDBFOWxlY3Rpb25uZXIgbGEgbm90ZVxuXHRcdFx0XHRhd2FpdCB0aGlzLmNvbnZlcnRlci5zaG93Tm90ZVNlbGVjdGlvbk1vZGFsKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBDb21tYW5kZSBwb3VyIGNvbXBpbGVyIGxlIExhVGVYIGVuIFBERlxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NvbXBpbGUtbGF0ZXgtdG8tcGRmJyxcblx0XHRcdG5hbWU6ICdDb21waWxlciBsZSBMYVRlWCBlbiBQREYnLFxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy5jb252ZXJ0ZXIuY29tcGlsZUxhdGV4VG9QZGYoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIENvbW1hbmRlIHBvdXIgdGVzdCBjb21wbGV0XG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAncnVuLWNvbXBsZXRlLXRlc3QnLFxuXHRcdFx0bmFtZTogJ0xhbmNlciBsZSB0ZXN0IGNvbXBsZXQnLFxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy5jb252ZXJ0ZXIucnVuQ29tcGxldGVUZXN0KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBDb21tYW5kZSBwb3VyIG91dnJpciBsZXMgcGFyYW1cdTAwRTh0cmVzXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi1sYXRleC1zZXR0aW5ncycsXG5cdFx0XHRuYW1lOiAnT3V2cmlyIGxlcyBwYXJhbVx1MDBFOHRyZXMgTGFUZVgnLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Ly8gT3V2cmUgbGUgcGFubmVhdSBkZSBwYXJhbVx1MDBFOHRyZXMgZHUgcGx1Z2luIHNpIHBvc3NpYmxlXG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0aWYgKHRoaXMuYXBwLnNldHRpbmcgJiYgdHlwZW9mIHRoaXMuYXBwLnNldHRpbmcub3BlblRhYkJ5SWQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuVGFiQnlJZCh0aGlzLm1hbmlmZXN0LmlkKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBGYWxsYmFjayA6IGFmZmljaGVyIHVuIG1lc3NhZ2Ugb3UgbmUgcmllbiBmYWlyZVxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignSW1wb3NzaWJsZSBkXFwnb3V2cmlyIGxlIHBhbm5lYXUgZGUgcGFyYW1cdTAwRTh0cmVzIGF1dG9tYXRpcXVlbWVudCBzdXIgY2V0dGUgdmVyc2lvbiBkXFwnT2JzaWRpYW4uJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufSAiLCAiaW1wb3J0IHsgQXBwLCBURmlsZSwgTm90aWNlLCBNb2RhbCwgU3VnZ2VzdE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSAnLi4vc2V0dGluZ3MvU2V0dGluZ3NNYW5hZ2VyJztcbmltcG9ydCB7IFBhdGhNYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvUGF0aE1hbmFnZXInO1xuaW1wb3J0IHsgTWFya2Rvd25Qcm9jZXNzb3IgfSBmcm9tICcuL3Byb2Nlc3NvcnMvTWFya2Rvd25Qcm9jZXNzb3InO1xuaW1wb3J0IHsgRXF1YXRpb25Qcm9jZXNzb3IgfSBmcm9tICcuL3Byb2Nlc3NvcnMvRXF1YXRpb25Qcm9jZXNzb3InO1xuaW1wb3J0IHsgVGFibGVQcm9jZXNzb3IgfSBmcm9tICcuL3Byb2Nlc3NvcnMvVGFibGVQcm9jZXNzb3InO1xuaW1wb3J0IHsgUmVmZXJlbmNlUHJvY2Vzc29yIH0gZnJvbSAnLi9wcm9jZXNzb3JzL1JlZmVyZW5jZVByb2Nlc3Nvcic7XG5pbXBvcnQgeyBMYXRleEdlbmVyYXRvciB9IGZyb20gJy4vZ2VuZXJhdG9ycy9MYXRleEdlbmVyYXRvcic7XG5cbmV4cG9ydCBjbGFzcyBMYXRleENvbnZlcnRlciB7XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgc2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlcjtcblx0cHJpdmF0ZSBwYXRoTWFuYWdlcjogUGF0aE1hbmFnZXI7XG5cdHByaXZhdGUgbWFya2Rvd25Qcm9jZXNzb3I6IE1hcmtkb3duUHJvY2Vzc29yO1xuXHRwcml2YXRlIGVxdWF0aW9uUHJvY2Vzc29yOiBFcXVhdGlvblByb2Nlc3Nvcjtcblx0cHJpdmF0ZSB0YWJsZVByb2Nlc3NvcjogVGFibGVQcm9jZXNzb3I7XG5cdHByaXZhdGUgcmVmZXJlbmNlUHJvY2Vzc29yOiBSZWZlcmVuY2VQcm9jZXNzb3I7XG5cdHByaXZhdGUgbGF0ZXhHZW5lcmF0b3I6IExhdGV4R2VuZXJhdG9yO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXR0aW5nczogU2V0dGluZ3NNYW5hZ2VyLCBwYXRoTWFuYWdlcjogUGF0aE1hbmFnZXIpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdFx0dGhpcy5wYXRoTWFuYWdlciA9IHBhdGhNYW5hZ2VyO1xuXHRcdFxuXHRcdC8vIEluaXRpYWxpc2F0aW9uIGRlcyBwcm9jZXNzZXVyc1xuXHRcdHRoaXMubWFya2Rvd25Qcm9jZXNzb3IgPSBuZXcgTWFya2Rvd25Qcm9jZXNzb3IodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdHRoaXMuZXF1YXRpb25Qcm9jZXNzb3IgPSBuZXcgRXF1YXRpb25Qcm9jZXNzb3IodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdHRoaXMudGFibGVQcm9jZXNzb3IgPSBuZXcgVGFibGVQcm9jZXNzb3IodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdHRoaXMucmVmZXJlbmNlUHJvY2Vzc29yID0gbmV3IFJlZmVyZW5jZVByb2Nlc3Nvcih0aGlzLmFwcCwgdGhpcy5zZXR0aW5ncywgdGhpcy5wYXRoTWFuYWdlcik7XG5cdFx0dGhpcy5sYXRleEdlbmVyYXRvciA9IG5ldyBMYXRleEdlbmVyYXRvcih0aGlzLmFwcCwgdGhpcy5zZXR0aW5ncywgdGhpcy5wYXRoTWFuYWdlcik7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydGl0IHVuZSBub3RlIGVuIExhVGVYXG5cdCAqL1xuXHRhc3luYyBjb252ZXJ0Tm90ZVRvTGF0ZXgoZmlsZTogVEZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0bmV3IE5vdGljZSgnRFx1MDBFOWJ1dCBkZSBsYSBjb252ZXJzaW9uIGVuIExhVGVYLi4uJyk7XG5cblx0XHRcdC8vIDEuIExpcmUgbGUgY29udGVudSBkdSBmaWNoaWVyXG5cdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcblx0XHRcdGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG5cblx0XHRcdC8vIDIuIFRyYWl0ZW1lbnQgZHUgbWFya2Rvd25cblx0XHRcdGxldCBwcm9jZXNzZWRMaW5lcyA9IGF3YWl0IHRoaXMubWFya2Rvd25Qcm9jZXNzb3IucHJvY2VzcyhsaW5lcyk7XG5cblx0XHRcdC8vIDMuIFRyYWl0ZW1lbnQgZGVzIFx1MDBFOXF1YXRpb25zXG5cdFx0XHRwcm9jZXNzZWRMaW5lcyA9IGF3YWl0IHRoaXMuZXF1YXRpb25Qcm9jZXNzb3IucHJvY2Vzcyhwcm9jZXNzZWRMaW5lcyk7XG5cblx0XHRcdC8vIDQuIFRyYWl0ZW1lbnQgZGVzIHRhYmxlYXV4XG5cdFx0XHRwcm9jZXNzZWRMaW5lcyA9IGF3YWl0IHRoaXMudGFibGVQcm9jZXNzb3IucHJvY2Vzcyhwcm9jZXNzZWRMaW5lcyk7XG5cblx0XHRcdC8vIDUuIFRyYWl0ZW1lbnQgZGVzIHJcdTAwRTlmXHUwMEU5cmVuY2VzXG5cdFx0XHRwcm9jZXNzZWRMaW5lcyA9IGF3YWl0IHRoaXMucmVmZXJlbmNlUHJvY2Vzc29yLnByb2Nlc3MocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0XHQvLyA2LiBHXHUwMEU5blx1MDBFOXJhdGlvbiBkdSBMYVRlWFxuXHRcdFx0Y29uc3QgbGF0ZXhDb250ZW50ID0gYXdhaXQgdGhpcy5sYXRleEdlbmVyYXRvci5nZW5lcmF0ZShwcm9jZXNzZWRMaW5lcywgZmlsZSk7XG5cblx0XHRcdC8vIDcuIFNhdXZlZ2FyZGUgZHUgZmljaGllciAudGV4XG5cdFx0XHRjb25zdCB0ZXhGaWxlUGF0aCA9IHRoaXMuZ2V0VGV4RmlsZVBhdGgoZmlsZSk7XG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVUZXhGaWxlKHRleEZpbGVQYXRoLCBsYXRleENvbnRlbnQpO1xuXG5cdFx0XHRuZXcgTm90aWNlKGBDb252ZXJzaW9uIHJcdTAwRTl1c3NpZSAhIEZpY2hpZXIgY3JcdTAwRTlcdTAwRTk6ICR7dGV4RmlsZVBhdGh9YCk7XG5cblx0XHRcdC8vIDguIENvbXBpbGF0aW9uIGF1dG9tYXRpcXVlIHNpIGFjdGl2XHUwMEU5ZVxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZ2V0QXV0b0NvbXBpbGUoKSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmNvbXBpbGVMYXRleFRvUGRmKHRleEZpbGVQYXRoKTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkZSBsYSBjb252ZXJzaW9uOicsIGVycm9yKTtcblx0XHRcdG5ldyBOb3RpY2UoYEVycmV1ciBsb3JzIGRlIGxhIGNvbnZlcnNpb246ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQWZmaWNoZSB1bmUgbW9kYWxlIHBvdXIgc1x1MDBFOWxlY3Rpb25uZXIgdW5lIG5vdGUgXHUwMEUwIGNvbnZlcnRpclxuXHQgKi9cblx0YXN5bmMgc2hvd05vdGVTZWxlY3Rpb25Nb2RhbCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRuZXcgTm90ZVNlbGVjdGlvbk1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29tcGlsZSBsZSBMYVRlWCBlbiBQREZcblx0ICovXG5cdGFzeW5jIGNvbXBpbGVMYXRleFRvUGRmKHRleEZpbGVQYXRoPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdG5ldyBOb3RpY2UoJ0NvbXBpbGF0aW9uIExhVGVYIGVuIGNvdXJzLi4uJyk7XG5cblx0XHRcdC8vIFNpIGF1Y3VuIGZpY2hpZXIgc3BcdTAwRTljaWZpXHUwMEU5LCBjaGVyY2hlciBsZSBwbHVzIHJcdTAwRTljZW50XG5cdFx0XHRpZiAoIXRleEZpbGVQYXRoKSB7XG5cdFx0XHRcdGNvbnN0IHdyaXRpbmdQYXRoID0gdGhpcy5wYXRoTWFuYWdlci5nZXRXcml0aW5nUGF0aCgpO1xuXHRcdFx0XHRjb25zdCB0ZXhGaWxlcyA9IGF3YWl0IHRoaXMuZmluZFRleEZpbGVzKHdyaXRpbmdQYXRoKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmICh0ZXhGaWxlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0F1Y3VuIGZpY2hpZXIgLnRleCB0cm91dlx1MDBFOScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJlbmRyZSBsZSBwbHVzIHJcdTAwRTljZW50XG5cdFx0XHRcdHRleEZpbGVQYXRoID0gdGV4RmlsZXNbMF07XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbXBpbGF0aW9uXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNvbXBpbGVMYXRleCh0ZXhGaWxlUGF0aCk7XG5cdFx0XHRcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdDb21waWxhdGlvbiByXHUwMEU5dXNzaWUgISBQREYgZ1x1MDBFOW5cdTAwRTlyXHUwMEU5LicpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBFcnJldXIgZGUgY29tcGlsYXRpb246ICR7cmVzdWx0LmVycm9yfWApO1xuXHRcdFx0fVxuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIGNvbXBpbGF0aW9uOicsIGVycm9yKTtcblx0XHRcdG5ldyBOb3RpY2UoYEVycmV1ciBsb3JzIGRlIGxhIGNvbXBpbGF0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIExhbmNlIHVuIHRlc3QgY29tcGxldCBkdSBzeXN0XHUwMEU4bWVcblx0ICovXG5cdGFzeW5jIHJ1bkNvbXBsZXRlVGVzdCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0bmV3IE5vdGljZSgnTGFuY2VtZW50IGR1IHRlc3QgY29tcGxldC4uLicpO1xuXG5cdFx0XHQvLyAxLiBUZXN0IGRlcyBjaGVtaW5zXG5cdFx0XHRhd2FpdCB0aGlzLnRlc3RQYXRocygpO1xuXG5cdFx0XHQvLyAyLiBUZXN0IGRlIGNvbnZlcnNpb25cblx0XHRcdGNvbnN0IHRlc3RGaWxlID0gYXdhaXQgdGhpcy5maW5kVGVzdEZpbGUoKTtcblx0XHRcdGlmICh0ZXN0RmlsZSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmNvbnZlcnROb3RlVG9MYXRleCh0ZXN0RmlsZSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIDMuIFRlc3QgZGUgY29tcGlsYXRpb25cblx0XHRcdGF3YWl0IHRoaXMuY29tcGlsZUxhdGV4VG9QZGYoKTtcblxuXHRcdFx0bmV3IE5vdGljZSgnVGVzdCBjb21wbGV0IHJcdTAwRTl1c3NpICEnKTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkdSB0ZXN0IGNvbXBsZXQ6JywgZXJyb3IpO1xuXHRcdFx0bmV3IE5vdGljZShgRXJyZXVyIGxvcnMgZHUgdGVzdCBjb21wbGV0OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE9idGllbnQgbGUgY2hlbWluIGR1IGZpY2hpZXIgLnRleCBjb3JyZXNwb25kYW50XG5cdCAqL1xuXHRwcml2YXRlIGdldFRleEZpbGVQYXRoKGZpbGU6IFRGaWxlKTogc3RyaW5nIHtcblx0XHRjb25zdCBiYXNlTmFtZSA9IHRoaXMucGF0aE1hbmFnZXIuZ2V0QmFzZW5hbWUoZmlsZS5wYXRoKTtcblx0XHRjb25zdCB3cml0aW5nUGF0aCA9IHRoaXMucGF0aE1hbmFnZXIuZ2V0V3JpdGluZ1BhdGgoKTtcblx0XHQvLyBVdGlsaXNlciBsZSBQYXRoTWFuYWdlciBwb3VyIGpvaW5kcmUgbGVzIGNoZW1pbnMgY29ycmVjdGVtZW50IGV0IFx1MDBFOXZpdGVyIGxlcyBkb3VibG9uc1xuXHRcdHJldHVybiB0aGlzLnBhdGhNYW5hZ2VyLmpvaW5QYXRocyh3cml0aW5nUGF0aCwgYCR7YmFzZU5hbWV9LnRleGApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNhdXZlZ2FyZGUgbGUgZmljaGllciAudGV4XG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIHNhdmVUZXhGaWxlKGZpbGVQYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIENyXHUwMEU5ZXIgbGUgclx1MDBFOXBlcnRvaXJlIHNpIG5cdTAwRTljZXNzYWlyZVxuXHRcdGNvbnN0IGRpciA9IHRoaXMucGF0aE1hbmFnZXIuZ2V0RGlyZWN0b3J5KGZpbGVQYXRoKTtcblx0XHRhd2FpdCB0aGlzLnBhdGhNYW5hZ2VyLmVuc3VyZURpcmVjdG9yeShkaXIpO1xuXG5cdFx0Ly8gU2F1dmVnYXJkZXIgbGUgZmljaGllclxuXHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZmlsZVBhdGgsIGNvbnRlbnQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyb3V2ZSBsZXMgZmljaGllcnMgLnRleCBkYW5zIHVuIHJcdTAwRTlwZXJ0b2lyZVxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBmaW5kVGV4RmlsZXMoZGlyUGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmaWxlcyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubGlzdChkaXJQYXRoKTtcblx0XHRcdHJldHVybiBmaWxlcy5maWxlc1xuXHRcdFx0XHQuZmlsdGVyKGZpbGUgPT4gZmlsZS5lbmRzV2l0aCgnLnRleCcpKVxuXHRcdFx0XHQubWFwKGZpbGUgPT4gdGhpcy5wYXRoTWFuYWdlci5qb2luUGF0aHMoZGlyUGF0aCwgZmlsZSkpXG5cdFx0XHRcdC5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdFx0Ly8gVHJpZXIgcGFyIGRhdGUgZGUgbW9kaWZpY2F0aW9uIChwbHVzIHJcdTAwRTljZW50IGVuIHByZW1pZXIpXG5cdFx0XHRcdFx0cmV0dXJuIDA7IC8vIFRPRE86IEltcGxcdTAwRTltZW50ZXIgbGUgdHJpIHBhciBkYXRlXG5cdFx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkZSBsYSByZWNoZXJjaGUgZGUgZmljaGllcnMgLnRleDonLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENvbXBpbGUgdW4gZmljaGllciBMYVRlWFxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBjb21waWxlTGF0ZXgodGV4RmlsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG5cdFx0Ly8gQ2V0dGUgbVx1MDBFOXRob2RlIG5cdTAwRTljZXNzaXRlcmFpdCB1bmUgaW50XHUwMEU5Z3JhdGlvbiBhdmVjIHVuIGNvbXBpbGF0ZXVyIExhVGVYXG5cdFx0Ly8gUG91ciBsJ2luc3RhbnQsIG9uIHNpbXVsZSBsYSBjb21waWxhdGlvblxuXHRcdGNvbnNvbGUubG9nKGBDb21waWxhdGlvbiBkZSAke3RleEZpbGVQYXRofWApO1xuXHRcdFxuXHRcdC8vIFRPRE86IEltcGxcdTAwRTltZW50ZXIgbGEgdnJhaWUgY29tcGlsYXRpb24gTGFUZVhcblx0XHQvLyBDZWxhIHBvdXJyYWl0IG5cdTAwRTljZXNzaXRlciBsJ3V0aWxpc2F0aW9uIGRlIE5vZGUuanMgY2hpbGRfcHJvY2Vzc1xuXHRcdC8vIG91IHVuZSBBUEkgZXh0ZXJuZSBwb3VyIGxhIGNvbXBpbGF0aW9uXG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH1cblxuXHQvKipcblx0ICogVGVzdCBkZXMgY2hlbWluc1xuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyB0ZXN0UGF0aHMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgcGF0aHMgPSBbXG5cdFx0XHR0aGlzLnBhdGhNYW5hZ2VyLmdldFdyaXRpbmdQYXRoKCksXG5cdFx0XHR0aGlzLnBhdGhNYW5hZ2VyLmdldEF1dG9tYXRpb25zUGF0aCgpLFxuXHRcdFx0dGhpcy5wYXRoTWFuYWdlci5nZXRMaXRlcmF0dXJlUGF0aCgpLFxuXHRcdFx0dGhpcy5wYXRoTWFuYWdlci5nZXRFcXVhdGlvbkJsb2Nrc1BhdGgoKSxcblx0XHRcdHRoaXMucGF0aE1hbmFnZXIuZ2V0VGFibGVCbG9ja3NQYXRoKClcblx0XHRdO1xuXG5cdFx0Zm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG5cdFx0XHRhd2FpdCB0aGlzLnBhdGhNYW5hZ2VyLmVuc3VyZURpcmVjdG9yeShwYXRoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVHJvdXZlIHVuIGZpY2hpZXIgZGUgdGVzdFxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBmaW5kVGVzdEZpbGUoKTogUHJvbWlzZTxURmlsZSB8IG51bGw+IHtcblx0XHRjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblx0XHRjb25zdCB0ZXN0RmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBcblx0XHRcdGZpbGUucGF0aC5pbmNsdWRlcygnXHUyNzBEV3JpdGluZycpICYmIFxuXHRcdFx0IWZpbGUucGF0aC5pbmNsdWRlcygnXHVEODNEXHVEQzY4XHUyMDBEXHVEODNEXHVEQ0JCJylcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRlc3RGaWxlcy5sZW5ndGggPiAwID8gdGVzdEZpbGVzWzBdIDogbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIE1vZGFsZSBwb3VyIHNcdTAwRTlsZWN0aW9ubmVyIHVuZSBub3RlIFx1MDBFMCBjb252ZXJ0aXJcbiAqL1xuY2xhc3MgTm90ZVNlbGVjdGlvbk1vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPFRGaWxlPiB7XG5cdHByaXZhdGUgY29udmVydGVyOiBMYXRleENvbnZlcnRlcjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgY29udmVydGVyOiBMYXRleENvbnZlcnRlcikge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5jb252ZXJ0ZXIgPSBjb252ZXJ0ZXI7XG5cdH1cblxuXHRnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogVEZpbGVbXSB7XG5cdFx0Y29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cdFx0cmV0dXJuIGZpbGVzLmZpbHRlcihmaWxlID0+IFxuXHRcdFx0ZmlsZS5wYXRoLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkgJiZcblx0XHRcdGZpbGUucGF0aC5pbmNsdWRlcygnXHUyNzBEV3JpdGluZycpXG5cdFx0KTtcblx0fVxuXG5cdHJlbmRlclN1Z2dlc3Rpb24oZmlsZTogVEZpbGUsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGVsLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGZpbGUuYmFzZW5hbWUgfSk7XG5cdFx0ZWwuY3JlYXRlRWwoJ3NtYWxsJywgeyB0ZXh0OiBmaWxlLnBhdGggfSk7XG5cdH1cblxuXHRhc3luYyBvbkNob29zZVN1Z2dlc3Rpb24oZmlsZTogVEZpbGUsIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLmNvbnZlcnRlci5jb252ZXJ0Tm90ZVRvTGF0ZXgoZmlsZSk7XG5cdH1cbn0gIiwgImltcG9ydCB7IEFwcCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFNldHRpbmdzTWFuYWdlciB9IGZyb20gJy4uLy4uL3NldHRpbmdzL1NldHRpbmdzTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBNYXJrZG93blByb2Nlc3NvciB7XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgc2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlcjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgc2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlcikge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFpdGUgbGVzIGxpZ25lcyBtYXJrZG93biBldCBsZXMgY29udmVydGl0IGVuIExhVGVYXG5cdCAqL1xuXHRhc3luYyBwcm9jZXNzKGxpbmVzOiBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nW10+IHtcblx0XHRsZXQgcHJvY2Vzc2VkTGluZXMgPSBbLi4ubGluZXNdO1xuXG5cdFx0Ly8gMS4gVHJhaXRlbWVudCBkZXMgZW4tdFx1MDBFQXRlc1xuXHRcdHByb2Nlc3NlZExpbmVzID0gdGhpcy5wcm9jZXNzSGVhZGVycyhwcm9jZXNzZWRMaW5lcyk7XG5cblx0XHQvLyAyLiBUcmFpdGVtZW50IGRlcyBsaXN0ZXNcblx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc0xpc3RzKHByb2Nlc3NlZExpbmVzKTtcblxuXHRcdC8vIDMuIFRyYWl0ZW1lbnQgZHUgZm9ybWF0YWdlIChncmFzLCBpdGFsaXF1ZSwgZXRjLilcblx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc0Zvcm1hdHRpbmcocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gNC4gVHJhaXRlbWVudCBkZXMgbGllbnNcblx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc0xpbmtzKHByb2Nlc3NlZExpbmVzKTtcblxuXHRcdC8vIDUuIFRyYWl0ZW1lbnQgZGVzIGNvbW1lbnRhaXJlc1xuXHRcdHByb2Nlc3NlZExpbmVzID0gdGhpcy5wcm9jZXNzQ29tbWVudHMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gNi4gVHJhaXRlbWVudCBkZXMgc3ltYm9sZXMgc3BcdTAwRTljaWF1eFxuXHRcdHByb2Nlc3NlZExpbmVzID0gdGhpcy5wcm9jZXNzU3BlY2lhbFN5bWJvbHMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0cmV0dXJuIHByb2Nlc3NlZExpbmVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgZW4tdFx1MDBFQXRlcyBtYXJrZG93blxuXHQgKi9cblx0cHJpdmF0ZSBwcm9jZXNzSGVhZGVycyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IHtcblx0XHRcdC8vIFRpdHJlcyBkZSBuaXZlYXUgMVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXiMgKC4qKSQvLCAnXFxcXHNlY3Rpb257JDF9Jyk7XG5cdFx0XHRcblx0XHRcdC8vIFRpdHJlcyBkZSBuaXZlYXUgMlxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXiMjICguKikkLywgJ1xcXFxzdWJzZWN0aW9ueyQxfScpO1xuXHRcdFx0XG5cdFx0XHQvLyBUaXRyZXMgZGUgbml2ZWF1IDNcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL14jIyMgKC4qKSQvLCAnXFxcXHN1YnN1YnNlY3Rpb257JDF9Jyk7XG5cdFx0XHRcblx0XHRcdC8vIFRpdHJlcyBkZSBuaXZlYXUgNCtcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL14jIyMjICguKikkLywgJ1xcXFxwYXJhZ3JhcGh7JDF9IFxcXFxoc3BhY2V7MHB0fSBcXFxcXFxcXCcpO1xuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXiMjIyMjICguKikkLywgJ1xcXFxwYXJhZ3JhcGh7JDF9IFxcXFxoc3BhY2V7MHB0fSBcXFxcXFxcXCcpO1xuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXiMjIyMjIyAoLiopJC8sICdcXFxccGFyYWdyYXBoeyQxfSBcXFxcaHNwYWNlezBwdH0gXFxcXFxcXFwnKTtcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL14jIyMjIyMjICguKikkLywgJ1xcXFxwYXJhZ3JhcGh7JDF9IFxcXFxoc3BhY2V7MHB0fSBcXFxcXFxcXCcpO1xuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXiMjIyMjIyMjICguKikkLywgJ1xcXFxwYXJhZ3JhcGh7JDF9IFxcXFxoc3BhY2V7MHB0fSBcXFxcXFxcXCcpO1xuXG5cdFx0XHQvLyBUcmFpdGVtZW50IHNwXHUwMEU5Y2lhbCBwb3VyIEFwcGVuZGl4XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9eIyBBcHBlbmRpeCQvLCAnXFxcXGFwcGVuZGl4Jyk7XG5cblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgbGlzdGVzXG5cdCAqL1xuXHRwcml2YXRlIHByb2Nlc3NMaXN0cyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0Y29uc3QgcHJvY2Vzc2VkTGluZXM6IHN0cmluZ1tdID0gW107XG5cdFx0bGV0IGluTGlzdCA9IGZhbHNlO1xuXHRcdGxldCBsaXN0VHlwZSA9ICcnO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgbGluZSA9IGxpbmVzW2ldO1xuXHRcdFx0XG5cdFx0XHQvLyBEXHUwMEU5dGVjdGlvbiBkdSBkXHUwMEU5YnV0IGQndW5lIGxpc3RlXG5cdFx0XHRpZiAobGluZS5tYXRjaCgvXltcXHNdKlstKitdXFxzLykpIHtcblx0XHRcdFx0aWYgKCFpbkxpc3QpIHtcblx0XHRcdFx0XHRwcm9jZXNzZWRMaW5lcy5wdXNoKCdcXFxcYmVnaW57aXRlbWl6ZX0nKTtcblx0XHRcdFx0XHRpbkxpc3QgPSB0cnVlO1xuXHRcdFx0XHRcdGxpc3RUeXBlID0gJ2l0ZW1pemUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSBsaW5lLnJlcGxhY2UoL15bXFxzXSpbLSorXVxccy8sICcnKTtcblx0XHRcdFx0cHJvY2Vzc2VkTGluZXMucHVzaChgXFxcXGl0ZW0gJHtpdGVtfWApO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRFx1MDBFOXRlY3Rpb24gZGVzIGxpc3RlcyBudW1cdTAwRTlyb3RcdTAwRTllc1xuXHRcdFx0ZWxzZSBpZiAobGluZS5tYXRjaCgvXltcXHNdKlxcZCtcXC5cXHMvKSkge1xuXHRcdFx0XHRpZiAoIWluTGlzdCkge1xuXHRcdFx0XHRcdHByb2Nlc3NlZExpbmVzLnB1c2goJ1xcXFxiZWdpbntlbnVtZXJhdGV9Jyk7XG5cdFx0XHRcdFx0aW5MaXN0ID0gdHJ1ZTtcblx0XHRcdFx0XHRsaXN0VHlwZSA9ICdlbnVtZXJhdGUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSBsaW5lLnJlcGxhY2UoL15bXFxzXSpcXGQrXFwuXFxzLywgJycpO1xuXHRcdFx0XHRwcm9jZXNzZWRMaW5lcy5wdXNoKGBcXFxcaXRlbSAke2l0ZW19YCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBGaW4gZGUgbGlzdGVcblx0XHRcdGVsc2UgaWYgKGluTGlzdCAmJiBsaW5lLnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdFx0cHJvY2Vzc2VkTGluZXMucHVzaChgXFxcXGVuZHske2xpc3RUeXBlfX1gKTtcblx0XHRcdFx0aW5MaXN0ID0gZmFsc2U7XG5cdFx0XHRcdGxpc3RUeXBlID0gJyc7XG5cdFx0XHR9XG5cdFx0XHQvLyBMaWduZSBub3JtYWxlXG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKGluTGlzdCkge1xuXHRcdFx0XHRcdHByb2Nlc3NlZExpbmVzLnB1c2goYFxcXFxlbmR7JHtsaXN0VHlwZX19YCk7XG5cdFx0XHRcdFx0aW5MaXN0ID0gZmFsc2U7XG5cdFx0XHRcdFx0bGlzdFR5cGUgPSAnJztcblx0XHRcdFx0fVxuXHRcdFx0XHRwcm9jZXNzZWRMaW5lcy5wdXNoKGxpbmUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZlcm1lciBsYSBsaXN0ZSBzaSBlbGxlIG4nYSBwYXMgXHUwMEU5dFx1MDBFOSBmZXJtXHUwMEU5ZVxuXHRcdGlmIChpbkxpc3QpIHtcblx0XHRcdHByb2Nlc3NlZExpbmVzLnB1c2goYFxcXFxlbmR7JHtsaXN0VHlwZX19YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByb2Nlc3NlZExpbmVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZSBmb3JtYXRhZ2UgKGdyYXMsIGl0YWxpcXVlLCBldGMuKVxuXHQgKi9cblx0cHJpdmF0ZSBwcm9jZXNzRm9ybWF0dGluZyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IHtcblx0XHRcdC8vIEdyYXNcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICdcXFxcdGV4dGJmeyQxfScpO1xuXHRcdFx0XG5cdFx0XHQvLyBJdGFsaXF1ZVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXFwqKC4qPylcXCovZywgJ1xcXFx0ZXh0aXR7JDF9Jyk7XG5cdFx0XHRcblx0XHRcdC8vIFN1cmxpZ25cdTAwRTlcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLz09KC4qPyk9PS9nLCAnXFxcXGhseyQxfScpO1xuXHRcdFx0XG5cdFx0XHQvLyBCYXJyXHUwMEU5XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9+figuKj8pfn4vZywgJ1xcXFxzdHskMX0nKTtcblx0XHRcdFxuXHRcdFx0Ly8gQ29kZSBpbmxpbmVcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL2AoLio/KWAvZywgJ1xcXFx0ZXh0dHR7JDF9Jyk7XG5cdFx0XHRcblx0XHRcdC8vIFRhZ3Ncblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLyMoXFxTKykvZywgJ1xcXFx0ZXh0dHR7JDF9Jyk7XG5cblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgbGllbnNcblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc0xpbmtzKGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gbGluZXMubWFwKGxpbmUgPT4ge1xuXHRcdFx0Ly8gTGllbnMgYXZlYyB0ZXh0ZVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXFxbKFteXFxdXSspXFxdXFwoKFteKV0rKVxcKS9nLCAnXFxcXGhyZWZ7JDJ9eyQxfScpO1xuXHRcdFx0XG5cdFx0XHQvLyBVUkxzIHNpbXBsZXNcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLyhodHRwcz86XFwvXFwvXFxTKykvZywgJ1xcXFx1cmx7JDF9Jyk7XG5cblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgY29tbWVudGFpcmVzXG5cdCAqL1xuXHRwcml2YXRlIHByb2Nlc3NDb21tZW50cyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLmZpbHRlcihsaW5lID0+IHtcblx0XHRcdC8vIFN1cHByaW1lciBsZXMgbGlnbmVzIGRlIGNvbW1lbnRhaXJlcyBtYXJrZG93blxuXHRcdFx0cmV0dXJuICFsaW5lLnRyaW0oKS5zdGFydHNXaXRoKCclJScpO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgc3ltYm9sZXMgc3BcdTAwRTljaWF1eFxuXHQgKi9cblx0cHJpdmF0ZSBwcm9jZXNzU3BlY2lhbFN5bWJvbHMobGluZXM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiBsaW5lcy5tYXAobGluZSA9PiB7XG5cdFx0XHQvLyBcdTAwQzljaGFwcGVyIGxlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eCBMYVRlWCBVTklRVUVNRU5UIGRhbnMgbGUgdGV4dGUgdXRpbGlzYXRldXJcblx0XHRcdC8vIE5lIHBhcyB0b3VjaGVyIGF1eCBjb21tYW5kZXMgTGFUZVggZ1x1MDBFOW5cdTAwRTlyXHUwMEU5ZXMgKFxcc2VjdGlvbiwgXFxpdGVtLCBldGMuKVxuXHRcdFx0Ly8gT24gY29uc2lkXHUwMEU4cmUgcXUndW5lIGxpZ25lIHF1aSBjb21tZW5jZSBwYXIgdW4gYmFja3NsYXNoIGVzdCB1bmUgY29tbWFuZGUgTGFUZVhcblx0XHRcdGlmIChsaW5lLnRyaW0oKS5zdGFydHNXaXRoKCdcXFxcJykpIHtcblx0XHRcdFx0cmV0dXJuIGxpbmU7XG5cdFx0XHR9XG5cdFx0XHQvLyBTaW5vbiwgb24gXHUwMEU5Y2hhcHBlIGxlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eFxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvJS9nLCAnXFxcXCUnKTtcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLyMvZywgJ1xcXFwjJyk7XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXCQvZywgJ1xcXFwkJyk7XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXHsvZywgJ1xcXFx7Jyk7XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXH0vZywgJ1xcXFx9Jyk7XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXF4vZywgJ1xcXFxee30nKTtcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcfi9nLCAnXFxcXH57fScpO1xuXHRcdFx0Ly8gTkUgUEFTIFx1MDBFOWNoYXBwZXIgbGUgYmFja3NsYXNoIGdsb2JhbGVtZW50ICFcblx0XHRcdC8vIFN5bWJvbGVzIGRlIHRhYmxlYXVcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLyYvZywgJ1xcXFwmJyk7XG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9KTtcblx0fVxufSAiLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vc2V0dGluZ3MvU2V0dGluZ3NNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEVxdWF0aW9uUHJvY2Vzc29yIHtcblx0cHJpdmF0ZSBhcHA6IEFwcDtcblx0cHJpdmF0ZSBzZXR0aW5nczogU2V0dGluZ3NNYW5hZ2VyO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXR0aW5nczogU2V0dGluZ3NNYW5hZ2VyKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgXHUwMEU5cXVhdGlvbnMgZGFucyBsZXMgbGlnbmVzXG5cdCAqL1xuXHRhc3luYyBwcm9jZXNzKGxpbmVzOiBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nW10+IHtcblx0XHRsZXQgcHJvY2Vzc2VkTGluZXMgPSBbLi4ubGluZXNdO1xuXG5cdFx0Ly8gMS4gVHJhaXRlbWVudCBkZXMgXHUwMEU5cXVhdGlvbnMgaW5saW5lXG5cdFx0cHJvY2Vzc2VkTGluZXMgPSB0aGlzLnByb2Nlc3NJbmxpbmVFcXVhdGlvbnMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gMi4gVHJhaXRlbWVudCBkZXMgXHUwMEU5cXVhdGlvbnMgZW4gYmxvY1xuXHRcdHByb2Nlc3NlZExpbmVzID0gdGhpcy5wcm9jZXNzQmxvY2tFcXVhdGlvbnMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gMy4gVHJhaXRlbWVudCBkZXMgXHUwMEU5cXVhdGlvbnMgYWxpZ25cdTAwRTllc1xuXHRcdHByb2Nlc3NlZExpbmVzID0gdGhpcy5wcm9jZXNzQWxpZ25lZEVxdWF0aW9ucyhwcm9jZXNzZWRMaW5lcyk7XG5cblx0XHQvLyA0LiBUcmFpdGVtZW50IGRlcyByXHUwMEU5Zlx1MDBFOXJlbmNlcyBkJ1x1MDBFOXF1YXRpb25zXG5cdFx0cHJvY2Vzc2VkTGluZXMgPSB0aGlzLnByb2Nlc3NFcXVhdGlvblJlZmVyZW5jZXMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0cmV0dXJuIHByb2Nlc3NlZExpbmVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgXHUwMEU5cXVhdGlvbnMgaW5saW5lICgkLi4uJClcblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc0lubGluZUVxdWF0aW9ucyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IHtcblx0XHRcdC8vIFx1MDBDOXF1YXRpb25zIGlubGluZSBzaW1wbGVzXG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXCQoW14kXSspXFwkL2csICdcXFxcKCQxXFxcXCknKTtcblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgXHUwMEU5cXVhdGlvbnMgZW4gYmxvYyAoJCQuLi4kJClcblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc0Jsb2NrRXF1YXRpb25zKGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBwcm9jZXNzZWRMaW5lczogc3RyaW5nW10gPSBbXTtcblx0XHRsZXQgaW5FcXVhdGlvbiA9IGZhbHNlO1xuXHRcdGxldCBlcXVhdGlvbkNvbnRlbnQ6IHN0cmluZ1tdID0gW107XG5cdFx0bGV0IGVxdWF0aW9uTGFiZWwgPSAnJztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcblxuXHRcdFx0Ly8gRFx1MDBFOWJ1dCBkJ3VuZSBcdTAwRTlxdWF0aW9uIGVuIGJsb2Ncblx0XHRcdGlmIChsaW5lLmluY2x1ZGVzKCckJCcpICYmICFpbkVxdWF0aW9uKSB7XG5cdFx0XHRcdGluRXF1YXRpb24gPSB0cnVlO1xuXHRcdFx0XHRlcXVhdGlvbkNvbnRlbnQgPSBbXTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIEV4dHJhaXJlIGxlIGNvbnRlbnUgZGUgbGEgcHJlbWlcdTAwRThyZSBsaWduZVxuXHRcdFx0XHRjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goL1xcJFxcJCguKj8pXFwkXFwkLyk7XG5cdFx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRcdGVxdWF0aW9uQ29udGVudC5wdXNoKG1hdGNoWzFdKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBDaGVyY2hlciB1biBsYWJlbFxuXHRcdFx0XHRcdGNvbnN0IGxhYmVsTWF0Y2ggPSBsaW5lLm1hdGNoKC9cXFxcbGFiZWxcXHtlcV9fYmxvY2tfKFtefV0rKVxcfS8pO1xuXHRcdFx0XHRcdGlmIChsYWJlbE1hdGNoKSB7XG5cdFx0XHRcdFx0XHRlcXVhdGlvbkxhYmVsID0gbGFiZWxNYXRjaFsxXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIEZpbiBkJ3VuZSBcdTAwRTlxdWF0aW9uIGVuIGJsb2Ncblx0XHRcdGVsc2UgaWYgKGxpbmUuaW5jbHVkZXMoJyQkJykgJiYgaW5FcXVhdGlvbikge1xuXHRcdFx0XHRpbkVxdWF0aW9uID0gZmFsc2U7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBFeHRyYWlyZSBsZSBjb250ZW51IGRlIGxhIGRlcm5pXHUwMEU4cmUgbGlnbmVcblx0XHRcdFx0Y29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9cXCRcXCQoLio/KVxcJFxcJC8pO1xuXHRcdFx0XHRpZiAobWF0Y2gpIHtcblx0XHRcdFx0XHRlcXVhdGlvbkNvbnRlbnQucHVzaChtYXRjaFsxXSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHXHUwMEU5blx1MDBFOXJlciBsJ1x1MDBFOXF1YXRpb24gTGFUZVhcblx0XHRcdFx0Y29uc3QgbGF0ZXhFcXVhdGlvbiA9IHRoaXMuZ2VuZXJhdGVMYXRleEVxdWF0aW9uKGVxdWF0aW9uQ29udGVudC5qb2luKCdcXG4nKSwgZXF1YXRpb25MYWJlbCk7XG5cdFx0XHRcdHByb2Nlc3NlZExpbmVzLnB1c2gobGF0ZXhFcXVhdGlvbik7XG5cdFx0XHRcdGVxdWF0aW9uQ29udGVudCA9IFtdO1xuXHRcdFx0XHRlcXVhdGlvbkxhYmVsID0gJyc7XG5cdFx0XHR9XG5cdFx0XHQvLyBDb250ZW51IGRlIGwnXHUwMEU5cXVhdGlvblxuXHRcdFx0ZWxzZSBpZiAoaW5FcXVhdGlvbikge1xuXHRcdFx0XHRlcXVhdGlvbkNvbnRlbnQucHVzaChsaW5lKTtcblx0XHRcdH1cblx0XHRcdC8vIExpZ25lIG5vcm1hbGVcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRwcm9jZXNzZWRMaW5lcy5wdXNoKGxpbmUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBwcm9jZXNzZWRMaW5lcztcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFpdGUgbGVzIFx1MDBFOXF1YXRpb25zIGFsaWduXHUwMEU5ZXNcblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc0FsaWduZWRFcXVhdGlvbnMobGluZXM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiBsaW5lcy5tYXAobGluZSA9PiB7XG5cdFx0XHQvLyBcdTAwQzlxdWF0aW9ucyBhbGlnblx1MDBFOWVzIGF2ZWMgXFxiZWdpbnthbGlnbmVkfVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZShcblx0XHRcdFx0L1xcJFxcJFxccypcXFxcYmVnaW5cXHthbGlnbmVkXFx9KC4qPylcXFxcZW5kXFx7YWxpZ25lZFxcfVxccypcXCRcXCQvZ3MsXG5cdFx0XHRcdChtYXRjaCwgY29udGVudCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmNvbnZlcnRBbGlnbmVkVG9TcGxpdChjb250ZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gXHUwMEM5cXVhdGlvbnMgYWxpZ25cdTAwRTllcyBhdmVjIFxcYmVnaW57YWxpZ259XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKFxuXHRcdFx0XHQvXFwkXFwkXFxzKlxcXFxiZWdpblxce2FsaWduXFx9KC4qPylcXFxcZW5kXFx7YWxpZ25cXH1cXHMqXFwkXFwkL2dzLFxuXHRcdFx0XHQobWF0Y2gsIGNvbnRlbnQpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5jb252ZXJ0QWxpZ25Ub1NwbGl0KGNvbnRlbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0aXQgdW5lIFx1MDBFOXF1YXRpb24gYWxpZ25cdTAwRTllIGVuIGZvcm1hdCBzcGxpdFxuXHQgKi9cblx0cHJpdmF0ZSBjb252ZXJ0QWxpZ25lZFRvU3BsaXQoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcXFxcXFxcJykubWFwKGxpbmUgPT4gbGluZS50cmltKCkpO1xuXHRcdGNvbnN0IHNwbGl0Q29udGVudCA9IGxpbmVzLm1hcChsaW5lID0+IGBcXHRcXHQke2xpbmV9YCkuam9pbignIFxcXFxcXFxcXFxuJyk7XG5cdFx0XG5cdFx0cmV0dXJuIGBcXFxcYmVnaW57ZXF1YXRpb259XG5cXHRcXFxcYmVnaW57c3BsaXR9XG4ke3NwbGl0Q29udGVudH1cblxcdFxcXFxlbmR7c3BsaXR9XG5cXFxcZW5ke2VxdWF0aW9ufWA7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydGl0IHVuZSBcdTAwRTlxdWF0aW9uIGFsaWduIGVuIGZvcm1hdCBzcGxpdFxuXHQgKi9cblx0cHJpdmF0ZSBjb252ZXJ0QWxpZ25Ub1NwbGl0KGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXFxcXFxcXCcpLm1hcChsaW5lID0+IGxpbmUudHJpbSgpKTtcblx0XHRjb25zdCBzcGxpdENvbnRlbnQgPSBsaW5lcy5tYXAobGluZSA9PiBgXFx0XFx0JHtsaW5lfWApLmpvaW4oJyBcXFxcXFxcXFxcbicpO1xuXHRcdFxuXHRcdHJldHVybiBgXFxcXGJlZ2lue2VxdWF0aW9ufVxuXFx0XFxcXGJlZ2lue3NwbGl0fVxuJHtzcGxpdENvbnRlbnR9XG5cXHRcXFxcZW5ke3NwbGl0fVxuXFxcXGVuZHtlcXVhdGlvbn1gO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgZCdcdTAwRTlxdWF0aW9uc1xuXHQgKi9cblx0cHJpdmF0ZSBwcm9jZXNzRXF1YXRpb25SZWZlcmVuY2VzKGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gbGluZXMubWFwKGxpbmUgPT4ge1xuXHRcdFx0Ly8gUlx1MDBFOWZcdTAwRTlyZW5jZXMgZCdcdTAwRTlxdWF0aW9ucyBbW2VxX19ibG9ja19uYW1lXV1cblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcW1xcW2VxX19ibG9ja18oW15cXF1dKylcXF1cXF0vZywgJ1xcXFxlcXJlZntlcTokMX0nKTtcblx0XHRcdFxuXHRcdFx0Ly8gUlx1MDBFOWZcdTAwRTlyZW5jZXMgZCdcdTAwRTlxdWF0aW9ucyBhdmVjIFxccmVmXG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXFxccmVmXFx7ZXFfX2Jsb2NrXyhbXn1dKylcXH0vZywgJ1xcXFxyZWZ7ZXE6JDF9Jyk7XG5cdFx0XHRcblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdcdTAwRTluXHUwMEU4cmUgdW5lIFx1MDBFOXF1YXRpb24gTGFUZVggXHUwMEUwIHBhcnRpciBkdSBjb250ZW51XG5cdCAqL1xuXHRwcml2YXRlIGdlbmVyYXRlTGF0ZXhFcXVhdGlvbihjb250ZW50OiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnRlbnQgPSBjb250ZW50LnRyaW0oKTtcblx0XHRcblx0XHQvLyBOZXR0b3llciBsZSBjb250ZW51XG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXlxcJFxcJHxcXCRcXCQkL2csICcnKS50cmltKCk7XG5cdFx0XG5cdFx0Ly8gQWpvdXRlciBsZSBsYWJlbCBzaSBwclx1MDBFOXNlbnRcblx0XHRjb25zdCBsYWJlbFBhcnQgPSBsYWJlbCA/IGAgXFxcXGxhYmVse2VxOiR7bGFiZWx9fWAgOiAnJztcblx0XHRcblx0XHRyZXR1cm4gYFxcXFxiZWdpbntlcXVhdGlvbn0ke2xhYmVsUGFydH1cblxcdCR7Y29udGVudH1cblxcXFxlbmR7ZXF1YXRpb259YDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0aXQgbGVzIFx1MDBFOXF1YXRpb25zIG5vbiBudW1cdTAwRTlyb3RcdTAwRTllcyBlbiBudW1cdTAwRTlyb3RcdTAwRTllc1xuXHQgKi9cblx0cHJpdmF0ZSBjb252ZXJ0Tm9uTnVtYmVyZWRUb051bWJlcmVkKGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gbGluZXMubWFwKGxpbmUgPT4ge1xuXHRcdFx0Ly8gQ2hlcmNoZXIgbGVzIFx1MDBFOXF1YXRpb25zICQkLi4uJCQgYXZlYyBsYWJlbFxuXHRcdFx0Y29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9cXCRcXCRcXHMqKC4qPylcXHMqXFwkXFwkXFxzKlxcXFxsYWJlbFxce2VxX19ibG9ja18oW159XSspXFx9Lyk7XG5cdFx0XHRpZiAobWF0Y2gpIHtcblx0XHRcdFx0Y29uc3QgZXF1YXRpb24gPSBtYXRjaFsxXS50cmltKCk7XG5cdFx0XHRcdGNvbnN0IGxhYmVsID0gbWF0Y2hbMl07XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXR1cm4gYFxcXFxiZWdpbntlcXVhdGlvbn0gXFxcXGxhYmVse2VxOiR7bGFiZWx9fVxuXFx0JHtlcXVhdGlvbn1cblxcXFxlbmR7ZXF1YXRpb259YDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0cmV0dXJuIGxpbmU7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogVlx1MDBFOXJpZmllIGV0IGNvcnJpZ2UgbGVzIFx1MDBFOXF1YXRpb25zIGFsaWduXHUwMEU5ZXNcblx0ICovXG5cdHByaXZhdGUgY2hlY2tBbmRDb3JyZWN0QWxpZ25lZEVxdWF0aW9ucyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IHtcblx0XHRcdC8vIENoZXJjaGVyIGxlcyBcdTAwRTlxdWF0aW9ucyBhbGlnblx1MDBFOWVzIG1hbCBmb3JtYXRcdTAwRTllc1xuXHRcdFx0aWYgKGxpbmUuaW5jbHVkZXMoJ1xcXFxiZWdpbnthbGlnbmVkfScpIHx8IGxpbmUuaW5jbHVkZXMoJ1xcXFxiZWdpbnthbGlnbn0nKSkge1xuXHRcdFx0XHQvLyBUcmFpdGVtZW50IHNwXHUwMEU5Y2lhbCBwb3VyIGxlcyBcdTAwRTlxdWF0aW9ucyBhbGlnblx1MDBFOWVzXG5cdFx0XHRcdC8vIFRPRE86IEltcGxcdTAwRTltZW50ZXIgbGEgY29ycmVjdGlvbiBjb21wbFx1MDBFOHRlXG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG59ICIsICJpbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTZXR0aW5nc01hbmFnZXIgfSBmcm9tICcuLi8uLi9zZXR0aW5ncy9TZXR0aW5nc01hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgVGFibGVQcm9jZXNzb3Ige1xuXHRwcml2YXRlIGFwcDogQXBwO1xuXHRwcml2YXRlIHNldHRpbmdzOiBTZXR0aW5nc01hbmFnZXI7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzOiBTZXR0aW5nc01hbmFnZXIpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdH1cblxuXHQvKipcblx0ICogVHJhaXRlIGxlcyB0YWJsZWF1eCBkYW5zIGxlcyBsaWduZXNcblx0ICovXG5cdGFzeW5jIHByb2Nlc3MobGluZXM6IHN0cmluZ1tdKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuXHRcdGxldCBwcm9jZXNzZWRMaW5lcyA9IFsuLi5saW5lc107XG5cblx0XHQvLyAxLiBJZGVudGlmaWNhdGlvbiBkZXMgdGFibGVhdXhcblx0XHRjb25zdCB0YWJsZUluZGV4ZXMgPSB0aGlzLmlkZW50aWZ5VGFibGVzKHByb2Nlc3NlZExpbmVzKTtcblxuXHRcdC8vIDIuIENvbnZlcnNpb24gZGVzIHRhYmxlYXV4XG5cdFx0cHJvY2Vzc2VkTGluZXMgPSB0aGlzLmNvbnZlcnRUYWJsZXMocHJvY2Vzc2VkTGluZXMsIHRhYmxlSW5kZXhlcyk7XG5cblx0XHRyZXR1cm4gcHJvY2Vzc2VkTGluZXM7XG5cdH1cblxuXHQvKipcblx0ICogSWRlbnRpZmllIGxlcyB0YWJsZWF1eCBkYW5zIGxlcyBsaWduZXNcblx0ICovXG5cdHByaXZhdGUgaWRlbnRpZnlUYWJsZXMobGluZXM6IHN0cmluZ1tdKTogbnVtYmVyW10ge1xuXHRcdGNvbnN0IHRhYmxlSW5kZXhlczogbnVtYmVyW10gPSBbXTtcblx0XHRsZXQgdGFibGVTdGFydGVkID0gZmFsc2U7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBsaW5lID0gbGluZXNbaV07XG5cdFx0XHRjb25zdCBpc1RhYmxlTGluZSA9IHRoaXMuaXNUYWJsZUxpbmUobGluZSk7XG5cblx0XHRcdGlmIChpc1RhYmxlTGluZSAmJiAhdGFibGVTdGFydGVkKSB7XG5cdFx0XHRcdHRhYmxlU3RhcnRlZCA9IHRydWU7XG5cdFx0XHRcdHRhYmxlSW5kZXhlcy5wdXNoKGkpO1xuXHRcdFx0fSBlbHNlIGlmICghaXNUYWJsZUxpbmUgJiYgdGFibGVTdGFydGVkKSB7XG5cdFx0XHRcdHRhYmxlU3RhcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHR0YWJsZUluZGV4ZXMucHVzaChpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTaSB1biB0YWJsZWF1IGVzdCBvdXZlcnQgXHUwMEUwIGxhIGZpbiwgbGUgZmVybWVyXG5cdFx0aWYgKHRhYmxlU3RhcnRlZCkge1xuXHRcdFx0dGFibGVJbmRleGVzLnB1c2gobGluZXMubGVuZ3RoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGFibGVJbmRleGVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFZcdTAwRTlyaWZpZSBzaSB1bmUgbGlnbmUgZmFpdCBwYXJ0aWUgZCd1biB0YWJsZWF1XG5cdCAqL1xuXHRwcml2YXRlIGlzVGFibGVMaW5lKGxpbmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdC8vIExpZ25lIGF2ZWMgZGVzIHNcdTAwRTlwYXJhdGV1cnMgZGUgY29sb25uZXNcblx0XHRyZXR1cm4gbGluZS5pbmNsdWRlcygnfCcpICYmIGxpbmUudHJpbSgpLmxlbmd0aCA+IDA7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydGl0IGxlcyB0YWJsZWF1eCBpZGVudGlmaVx1MDBFOXNcblx0ICovXG5cdHByaXZhdGUgY29udmVydFRhYmxlcyhsaW5lczogc3RyaW5nW10sIHRhYmxlSW5kZXhlczogbnVtYmVyW10pOiBzdHJpbmdbXSB7XG5cdFx0Y29uc3QgcHJvY2Vzc2VkTGluZXM6IHN0cmluZ1tdID0gW107XG5cdFx0bGV0IHRhYmxlSW5kZXggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHRhYmxlSW5kZXggPCB0YWJsZUluZGV4ZXMubGVuZ3RoICYmIGkgPT09IHRhYmxlSW5kZXhlc1t0YWJsZUluZGV4XSkge1xuXHRcdFx0XHQvLyBEXHUwMEU5YnV0IGQndW4gdGFibGVhdVxuXHRcdFx0XHRjb25zdCBzdGFydEluZGV4ID0gaTtcblx0XHRcdFx0Y29uc3QgZW5kSW5kZXggPSB0YWJsZUluZGV4ZXNbdGFibGVJbmRleCArIDFdO1xuXHRcdFx0XHRjb25zdCB0YWJsZUxpbmVzID0gbGluZXMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQ29udmVydGlyIGxlIHRhYmxlYXVcblx0XHRcdFx0Y29uc3QgbGF0ZXhUYWJsZSA9IHRoaXMuY29udmVydFRhYmxlVG9MYXRleCh0YWJsZUxpbmVzKTtcblx0XHRcdFx0cHJvY2Vzc2VkTGluZXMucHVzaChsYXRleFRhYmxlKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFBhc3NlciBcdTAwRTAgbGEgZmluIGR1IHRhYmxlYXVcblx0XHRcdFx0aSA9IGVuZEluZGV4IC0gMTtcblx0XHRcdFx0dGFibGVJbmRleCArPSAyOyAvLyBQYXNzZXIgYXUgcHJvY2hhaW4gdGFibGVhdVxuXHRcdFx0fSBlbHNlIGlmICh0YWJsZUluZGV4IDwgdGFibGVJbmRleGVzLmxlbmd0aCAmJiBpID09PSB0YWJsZUluZGV4ZXNbdGFibGVJbmRleCArIDFdKSB7XG5cdFx0XHRcdC8vIEZpbiBkJ3VuIHRhYmxlYXUsIGRcdTAwRTlqXHUwMEUwIHRyYWl0XHUwMEU5XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTGlnbmUgbm9ybWFsZVxuXHRcdFx0XHRwcm9jZXNzZWRMaW5lcy5wdXNoKGxpbmVzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcHJvY2Vzc2VkTGluZXM7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydGl0IHVuIHRhYmxlYXUgbWFya2Rvd24gZW4gTGFUZVhcblx0ICovXG5cdHByaXZhdGUgY29udmVydFRhYmxlVG9MYXRleCh0YWJsZUxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZyB7XG5cdFx0aWYgKHRhYmxlTGluZXMubGVuZ3RoIDwgMikge1xuXHRcdFx0cmV0dXJuIHRhYmxlTGluZXMuam9pbignXFxuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gUGFyc2VyIGxlcyBsaWduZXMgZHUgdGFibGVhdVxuXHRcdGNvbnN0IHJvd3M6IHN0cmluZ1tdW10gPSBbXTtcblx0XHRsZXQgaGVhZGVyczogc3RyaW5nW10gPSBbXTtcblx0XHRsZXQgYWxpZ25tZW50czogc3RyaW5nW10gPSBbXTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGVMaW5lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgbGluZSA9IHRhYmxlTGluZXNbaV0udHJpbSgpO1xuXHRcdFx0XG5cdFx0XHRpZiAobGluZS5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXG5cdFx0XHQvLyBEaXZpc2VyIGxhIGxpZ25lIGVuIGNvbG9ubmVzXG5cdFx0XHRjb25zdCBjb2x1bW5zID0gbGluZS5zcGxpdCgnfCcpLm1hcChjb2wgPT4gY29sLnRyaW0oKSkuZmlsdGVyKGNvbCA9PiBjb2wubGVuZ3RoID4gMCk7XG5cblx0XHRcdGlmIChpID09PSAwKSB7XG5cdFx0XHRcdC8vIFByZW1pXHUwMEU4cmUgbGlnbmUgPSBlbi10XHUwMEVBdGVzXG5cdFx0XHRcdGhlYWRlcnMgPSBjb2x1bW5zO1xuXHRcdFx0fSBlbHNlIGlmIChpID09PSAxKSB7XG5cdFx0XHRcdC8vIERldXhpXHUwMEU4bWUgbGlnbmUgPSBhbGlnbmVtZW50c1xuXHRcdFx0XHRhbGlnbm1lbnRzID0gdGhpcy5wYXJzZUFsaWdubWVudHMoY29sdW1ucyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBMaWduZXMgZGUgZG9ublx1MDBFOWVzXG5cdFx0XHRcdHJvd3MucHVzaChjb2x1bW5zKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBHXHUwMEU5blx1MDBFOXJlciBsZSB0YWJsZWF1IExhVGVYXG5cdFx0cmV0dXJuIHRoaXMuZ2VuZXJhdGVMYXRleFRhYmxlKGhlYWRlcnMsIGFsaWdubWVudHMsIHJvd3MpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFBhcnNlIGxlcyBhbGlnbmVtZW50cyBkZXB1aXMgbGEgbGlnbmUgZGUgc1x1MDBFOXBhcmF0ZXVyc1xuXHQgKi9cblx0cHJpdmF0ZSBwYXJzZUFsaWdubWVudHMoYWxpZ25tZW50TGluZTogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGFsaWdubWVudExpbmUubWFwKGNvbCA9PiB7XG5cdFx0XHRjb2wgPSBjb2wudHJpbSgpO1xuXHRcdFx0XG5cdFx0XHRpZiAoY29sLnN0YXJ0c1dpdGgoJzonKSAmJiBjb2wuZW5kc1dpdGgoJzonKSkge1xuXHRcdFx0XHRyZXR1cm4gJ2MnOyAvLyBDZW50clx1MDBFOVxuXHRcdFx0fSBlbHNlIGlmIChjb2wuc3RhcnRzV2l0aCgnOicpKSB7XG5cdFx0XHRcdHJldHVybiAnbCc7IC8vIEdhdWNoZVxuXHRcdFx0fSBlbHNlIGlmIChjb2wuZW5kc1dpdGgoJzonKSkge1xuXHRcdFx0XHRyZXR1cm4gJ3InOyAvLyBEcm9pdGVcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiAnbCc7IC8vIFBhciBkXHUwMEU5ZmF1dCwgZ2F1Y2hlXG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR1x1MDBFOW5cdTAwRThyZSBsZSB0YWJsZWF1IExhVGVYXG5cdCAqL1xuXHRwcml2YXRlIGdlbmVyYXRlTGF0ZXhUYWJsZShoZWFkZXJzOiBzdHJpbmdbXSwgYWxpZ25tZW50czogc3RyaW5nW10sIHJvd3M6IHN0cmluZ1tdW10pOiBzdHJpbmcge1xuXHRcdGNvbnN0IHBhY2thZ2VUeXBlID0gdGhpcy5zZXR0aW5ncy5nZXRUYWJsZVBhY2thZ2UoKTtcblx0XHRjb25zdCBhbGlnbm1lbnQgPSB0aGlzLnNldHRpbmdzLmdldFRhYmxlQWxpZ25tZW50KCk7XG5cdFx0Y29uc3QgcmVsV2lkdGggPSB0aGlzLnNldHRpbmdzLmdldFRhYmxlUmVsV2lkdGgoKTtcblxuXHRcdC8vIENvbnN0cnVpcmUgbGEgc3BcdTAwRTljaWZpY2F0aW9uIGRlcyBjb2xvbm5lc1xuXHRcdGNvbnN0IGNvbHVtblNwZWMgPSBhbGlnbm1lbnRzLm1hcChhbGlnbiA9PiB7XG5cdFx0XHRzd2l0Y2ggKGFsaWduKSB7XG5cdFx0XHRcdGNhc2UgJ2wnOiByZXR1cm4gJ2wnO1xuXHRcdFx0XHRjYXNlICdyJzogcmV0dXJuICdyJztcblx0XHRcdFx0Y2FzZSAnYyc6IHJldHVybiAnYyc7XG5cdFx0XHRcdGRlZmF1bHQ6IHJldHVybiAnbCc7XG5cdFx0XHR9XG5cdFx0fSkuam9pbignJyk7XG5cblx0XHQvLyBDb25zdHJ1aXJlIGxlcyBsaWduZXMgZCdlbi10XHUwMEVBdGVcblx0XHRjb25zdCBoZWFkZXJSb3cgPSBoZWFkZXJzLm1hcChoZWFkZXIgPT4gdGhpcy5lc2NhcGVMYXRleChoZWFkZXIpKS5qb2luKCcgJiAnKTtcblxuXHRcdC8vIENvbnN0cnVpcmUgbGVzIGxpZ25lcyBkZSBkb25uXHUwMEU5ZXNcblx0XHRjb25zdCBkYXRhUm93cyA9IHJvd3MubWFwKHJvdyA9PiB7XG5cdFx0XHRyZXR1cm4gcm93Lm1hcChjZWxsID0+IHRoaXMuZXNjYXBlTGF0ZXgoY2VsbCkpLmpvaW4oJyAmICcpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gR1x1MDBFOW5cdTAwRTlyZXIgbGUgdGFibGVhdSBzZWxvbiBsZSBwYWNrYWdlXG5cdFx0aWYgKHBhY2thZ2VUeXBlID09PSAndGFidWxhcngnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZVRhYnVsYXJ4VGFibGUoY29sdW1uU3BlYywgaGVhZGVyUm93LCBkYXRhUm93cywgcmVsV2lkdGgpO1xuXHRcdH0gZWxzZSBpZiAocGFja2FnZVR5cGUgPT09ICdsb25ndGFibGUnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZUxvbmd0YWJsZVRhYmxlKGNvbHVtblNwZWMsIGhlYWRlclJvdywgZGF0YVJvd3MpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZVN0YW5kYXJkVGFibGUoY29sdW1uU3BlYywgaGVhZGVyUm93LCBkYXRhUm93cyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdcdTAwRTluXHUwMEU4cmUgdW4gdGFibGVhdSBhdmVjIHRhYnVsYXJ4XG5cdCAqL1xuXHRwcml2YXRlIGdlbmVyYXRlVGFidWxhcnhUYWJsZShjb2x1bW5TcGVjOiBzdHJpbmcsIGhlYWRlclJvdzogc3RyaW5nLCBkYXRhUm93czogc3RyaW5nW10sIHJlbFdpZHRoOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHdpZHRoID0gcmVsV2lkdGggPiAwID8gYCR7cmVsV2lkdGh9XFxcXGxpbmV3aWR0aGAgOiAnXFxcXGxpbmV3aWR0aCc7XG5cdFx0XG5cdFx0cmV0dXJuIGBcXFxcYmVnaW57dGFibGV9W2hdXG5cXFxcY2VudGVyaW5nXG5cXFxcYmVnaW57dGFidWxhcnh9eyR7d2lkdGh9fXske2NvbHVtblNwZWN9fVxuXFxcXGhsaW5lXG4ke2hlYWRlclJvd30gXFxcXFxcXFxcblxcXFxobGluZVxuJHtkYXRhUm93cy5qb2luKCcgXFxcXFxcXFxcXG4nKX0gXFxcXFxcXFxcblxcXFxobGluZVxuXFxcXGVuZHt0YWJ1bGFyeH1cblxcXFxjYXB0aW9ue0NhcHRpb24gZHUgdGFibGVhdX1cblxcXFxsYWJlbHt0YWI6dGFibGVfbGFiZWx9XG5cXFxcZW5ke3RhYmxlfWA7XG5cdH1cblxuXHQvKipcblx0ICogR1x1MDBFOW5cdTAwRThyZSB1biB0YWJsZWF1IGF2ZWMgbG9uZ3RhYmxlXG5cdCAqL1xuXHRwcml2YXRlIGdlbmVyYXRlTG9uZ3RhYmxlVGFibGUoY29sdW1uU3BlYzogc3RyaW5nLCBoZWFkZXJSb3c6IHN0cmluZywgZGF0YVJvd3M6IHN0cmluZ1tdKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYFxcXFxiZWdpbntsb25ndGFibGV9eyR7Y29sdW1uU3BlY319XG5cXFxcaGxpbmVcbiR7aGVhZGVyUm93fSBcXFxcXFxcXFxuXFxcXGhsaW5lXG5cXFxcZW5kZmlyc3RoZWFkXG5cXFxcaGxpbmVcbiR7aGVhZGVyUm93fSBcXFxcXFxcXFxuXFxcXGhsaW5lXG5cXFxcZW5kaGVhZFxuXFxcXGhsaW5lXG5cXFxcZW5kZm9vdFxuJHtkYXRhUm93cy5qb2luKCcgXFxcXFxcXFxcXG4nKX0gXFxcXFxcXFxcblxcXFxobGluZVxuXFxcXGNhcHRpb257Q2FwdGlvbiBkdSB0YWJsZWF1fVxuXFxcXGxhYmVse3RhYjp0YWJsZV9sYWJlbH1cblxcXFxlbmR7bG9uZ3RhYmxlfWA7XG5cdH1cblxuXHQvKipcblx0ICogR1x1MDBFOW5cdTAwRThyZSB1biB0YWJsZWF1IHN0YW5kYXJkXG5cdCAqL1xuXHRwcml2YXRlIGdlbmVyYXRlU3RhbmRhcmRUYWJsZShjb2x1bW5TcGVjOiBzdHJpbmcsIGhlYWRlclJvdzogc3RyaW5nLCBkYXRhUm93czogc3RyaW5nW10pOiBzdHJpbmcge1xuXHRcdHJldHVybiBgXFxcXGJlZ2lue3RhYmxlfVtoXVxuXFxcXGNlbnRlcmluZ1xuXFxcXGJlZ2lue3RhYnVsYXJ9eyR7Y29sdW1uU3BlY319XG5cXFxcaGxpbmVcbiR7aGVhZGVyUm93fSBcXFxcXFxcXFxuXFxcXGhsaW5lXG4ke2RhdGFSb3dzLmpvaW4oJyBcXFxcXFxcXFxcbicpfSBcXFxcXFxcXFxuXFxcXGhsaW5lXG5cXFxcZW5ke3RhYnVsYXJ9XG5cXFxcY2FwdGlvbntDYXB0aW9uIGR1IHRhYmxlYXV9XG5cXFxcbGFiZWx7dGFiOnRhYmxlX2xhYmVsfVxuXFxcXGVuZHt0YWJsZX1gO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1MDBDOWNoYXBwZSBsZXMgY2FyYWN0XHUwMEU4cmVzIHNwXHUwMEU5Y2lhdXggTGFUZVhcblx0ICovXG5cdHByaXZhdGUgZXNjYXBlTGF0ZXgodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGV4dFxuXHRcdFx0LnJlcGxhY2UoL1xcXFwvZywgJ1xcXFx0ZXh0YmFja3NsYXNoe30nKVxuXHRcdFx0LnJlcGxhY2UoL1xcey9nLCAnXFxcXHsnKVxuXHRcdFx0LnJlcGxhY2UoL1xcfS9nLCAnXFxcXH0nKVxuXHRcdFx0LnJlcGxhY2UoL1xcJC9nLCAnXFxcXCQnKVxuXHRcdFx0LnJlcGxhY2UoL1xcXi9nLCAnXFxcXF57fScpXG5cdFx0XHQucmVwbGFjZSgvXFx+L2csICdcXFxcfnt9Jylcblx0XHRcdC5yZXBsYWNlKC9cXCYvZywgJ1xcXFwmJylcblx0XHRcdC5yZXBsYWNlKC8lL2csICdcXFxcJScpXG5cdFx0XHQucmVwbGFjZSgvIy9nLCAnXFxcXCMnKVxuXHRcdFx0LnJlcGxhY2UoL18vZywgJ1xcXFxfJyk7XG5cdH1cbn0gIiwgImltcG9ydCB7IEFwcCwgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTZXR0aW5nc01hbmFnZXIgfSBmcm9tICcuLi8uLi9zZXR0aW5ncy9TZXR0aW5nc01hbmFnZXInO1xuaW1wb3J0IHsgUGF0aE1hbmFnZXIgfSBmcm9tICcuLi8uLi91dGlscy9QYXRoTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VQcm9jZXNzb3Ige1xuXHRwcml2YXRlIGFwcDogQXBwO1xuXHRwcml2YXRlIHNldHRpbmdzOiBTZXR0aW5nc01hbmFnZXI7XG5cdHByaXZhdGUgcGF0aE1hbmFnZXI6IFBhdGhNYW5hZ2VyO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXR0aW5nczogU2V0dGluZ3NNYW5hZ2VyLCBwYXRoTWFuYWdlcjogUGF0aE1hbmFnZXIpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdFx0dGhpcy5wYXRoTWFuYWdlciA9IHBhdGhNYW5hZ2VyO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgZGFucyBsZXMgbGlnbmVzXG5cdCAqL1xuXHRhc3luYyBwcm9jZXNzKGxpbmVzOiBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nW10+IHtcblx0XHRsZXQgcHJvY2Vzc2VkTGluZXMgPSBbLi4ubGluZXNdO1xuXG5cdFx0Ly8gMS4gVHJhaXRlbWVudCBkZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgZHluYW1pcXVlcyAoIXJlZnsuLi59KVxuXHRcdHByb2Nlc3NlZExpbmVzID0gYXdhaXQgdGhpcy5wcm9jZXNzRHluYW1pY1JlZmVyZW5jZXMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gMi4gVHJhaXRlbWVudCBkZXMgbGllbnMgaW50ZXJuZXNcblx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc0ludGVybmFsTGlua3MocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gMy4gVHJhaXRlbWVudCBkZXMgY2l0YXRpb25zXG5cdFx0cHJvY2Vzc2VkTGluZXMgPSB0aGlzLnByb2Nlc3NDaXRhdGlvbnMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gNC4gVHJhaXRlbWVudCBkZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgbm9uLWVtYmFycXVcdTAwRTllc1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLmdldENvbnZlcnROb25FbWJlZGRlZFJlZmVyZW5jZXMoKSkge1xuXHRcdFx0cHJvY2Vzc2VkTGluZXMgPSB0aGlzLnByb2Nlc3NOb25FbWJlZGRlZFJlZmVyZW5jZXMocHJvY2Vzc2VkTGluZXMpO1xuXHRcdH1cblxuXHRcdC8vIDUuIFRyYWl0ZW1lbnQgZGVzIHJcdTAwRTlmXHUwMEU5cmVuY2VzIGRlIGZpZ3VyZXNcblx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc0ZpZ3VyZVJlZmVyZW5jZXMocHJvY2Vzc2VkTGluZXMpO1xuXG5cdFx0Ly8gNi4gVHJhaXRlbWVudCBkZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgZGUgdGFibGVhdXhcblx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc1RhYmxlUmVmZXJlbmNlcyhwcm9jZXNzZWRMaW5lcyk7XG5cblx0XHRyZXR1cm4gcHJvY2Vzc2VkTGluZXM7XG5cdH1cblxuXHQvKipcblx0ICogVHJhaXRlIGxlcyByXHUwMEU5Zlx1MDBFOXJlbmNlcyBkeW5hbWlxdWVzICFyZWZ7Li4ufSBlbiBpbmNsdWFudCBsZSBjb250ZW51IGR1IGZpY2hpZXIgclx1MDBFOWZcdTAwRTlyZW5jXHUwMEU5XG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIHByb2Nlc3NEeW5hbWljUmVmZXJlbmNlcyhsaW5lczogc3RyaW5nW10pOiBQcm9taXNlPHN0cmluZ1tdPiB7XG5cdFx0Y29uc3QgcHJvY2Vzc2VkTGluZXM6IHN0cmluZ1tdID0gW107XG5cdFx0XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgbGluZSA9IGxpbmVzW2ldO1xuXHRcdFx0XG5cdFx0XHQvLyBEXHUwMEU5dGVjdGVyIGxlcyByXHUwMEU5Zlx1MDBFOXJlbmNlcyAhcmVmey4uLn1cblx0XHRcdGNvbnN0IHJlZk1hdGNoID0gbGluZS5tYXRjaCgvIXJlZlxceyhbXn1dKylcXH0vKTtcblx0XHRcdGlmIChyZWZNYXRjaCkge1xuXHRcdFx0XHRjb25zdCByZWZOYW1lID0gcmVmTWF0Y2hbMV07XG5cdFx0XHRcdGNvbnNvbGUubG9nKGBUcmFpdGVtZW50IGRlIGxhIHJcdTAwRTlmXHUwMEU5cmVuY2UgZHluYW1pcXVlOiAke3JlZk5hbWV9YCk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDaGVyY2hlciBsZSBmaWNoaWVyIHJcdTAwRTlmXHUwMEU5cmVuY1x1MDBFOVxuXHRcdFx0XHRjb25zdCByZWZlcmVuY2VkRmlsZSA9IGF3YWl0IHRoaXMuZmluZFJlZmVyZW5jZWRGaWxlKHJlZk5hbWUpO1xuXHRcdFx0XHRpZiAocmVmZXJlbmNlZEZpbGUpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Ly8gTGlyZSBsZSBjb250ZW51IGR1IGZpY2hpZXIgclx1MDBFOWZcdTAwRTlyZW5jXHUwMEU5XG5cdFx0XHRcdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChyZWZlcmVuY2VkRmlsZSk7XG5cdFx0XHRcdFx0XHRjb25zdCBjb250ZW50TGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQ29udmVydGlyIGxlIGNvbnRlbnUgZW4gTGFUZVggKHJcdTAwRTljdXJzaXZlbWVudClcblx0XHRcdFx0XHRcdGNvbnN0IGxhdGV4Q29udGVudCA9IGF3YWl0IHRoaXMuY29udmVydFJlZmVyZW5jZWRDb250ZW50VG9MYXRleChjb250ZW50TGluZXMpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBSZW1wbGFjZXIgbGEgclx1MDBFOWZcdTAwRTlyZW5jZSBwYXIgbGUgY29udGVudSBMYVRlWFxuXHRcdFx0XHRcdFx0Y29uc3QgbmV3TGluZSA9IGxpbmUucmVwbGFjZSgvIXJlZlxce1tefV0rXFx9LywgbGF0ZXhDb250ZW50LmpvaW4oJ1xcbicpKTtcblx0XHRcdFx0XHRcdHByb2Nlc3NlZExpbmVzLnB1c2gobmV3TGluZSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycmV1ciBsb3JzIGRlIGxhIGNvbnZlcnNpb24gZGUgJHtyZWZOYW1lfTpgLCBlcnJvcik7XG5cdFx0XHRcdFx0XHRwcm9jZXNzZWRMaW5lcy5wdXNoKGxpbmUpOyAvLyBHYXJkZXIgbGEgbGlnbmUgb3JpZ2luYWxlIGVuIGNhcyBkJ2VycmV1clxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oYEZpY2hpZXIgclx1MDBFOWZcdTAwRTlyZW5jXHUwMEU5IG5vbiB0cm91dlx1MDBFOTogJHtyZWZOYW1lfWApO1xuXHRcdFx0XHRcdHByb2Nlc3NlZExpbmVzLnB1c2gobGluZSk7IC8vIEdhcmRlciBsYSBsaWduZSBvcmlnaW5hbGVcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHJvY2Vzc2VkTGluZXMucHVzaChsaW5lKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHByb2Nlc3NlZExpbmVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyb3V2ZSBsZSBmaWNoaWVyIHJcdTAwRTlmXHUwMEU5cmVuY1x1MDBFOSBwYXIgc29uIG5vbVxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBmaW5kUmVmZXJlbmNlZEZpbGUocmVmTmFtZTogc3RyaW5nKTogUHJvbWlzZTxURmlsZSB8IG51bGw+IHtcblx0XHRjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblx0XHRcblx0XHQvLyBDaGVyY2hlciBwYXIgbm9tIGV4YWN0XG5cdFx0bGV0IGZpbGUgPSBmaWxlcy5maW5kKGYgPT4gZi5iYXNlbmFtZSA9PT0gcmVmTmFtZSk7XG5cdFx0aWYgKGZpbGUpIHJldHVybiBmaWxlO1xuXG5cdFx0Ly8gQ2hlcmNoZXIgcGFyIG5vbSBhdmVjIGV4dGVuc2lvblxuXHRcdGZpbGUgPSBmaWxlcy5maW5kKGYgPT4gZi5uYW1lID09PSBgJHtyZWZOYW1lfS5tZGApO1xuXHRcdGlmIChmaWxlKSByZXR1cm4gZmlsZTtcblxuXHRcdC8vIENoZXJjaGVyIGRhbnMgbGVzIGRvc3NpZXJzIHNwXHUwMEU5Y2lmaXF1ZXMgKHRhYmxlIGJsb2NrcywgZmlndXJlIGJsb2NrcywgZXRjLilcblx0XHRjb25zdCBzcGVjaWFsRm9sZGVycyA9IFsndGFibGUgYmxvY2tzJywgJ2ZpZ3VyZSBibG9ja3MnLCAnZXF1YXRpb24gYmxvY2tzJ107XG5cdFx0Zm9yIChjb25zdCBmb2xkZXIgb2Ygc3BlY2lhbEZvbGRlcnMpIHtcblx0XHRcdGZpbGUgPSBmaWxlcy5maW5kKGYgPT4gZi5wYXRoLmluY2x1ZGVzKGZvbGRlcikgJiYgZi5iYXNlbmFtZSA9PT0gcmVmTmFtZSk7XG5cdFx0XHRpZiAoZmlsZSkgcmV0dXJuIGZpbGU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlcmNoZXIgcGFyIGNoZW1pbiBwYXJ0aWVsXG5cdFx0ZmlsZSA9IGZpbGVzLmZpbmQoZiA9PiBmLnBhdGguaW5jbHVkZXMocmVmTmFtZSkpO1xuXHRcdHJldHVybiBmaWxlIHx8IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydGl0IGxlIGNvbnRlbnUgZCd1biBmaWNoaWVyIHJcdTAwRTlmXHUwMEU5cmVuY1x1MDBFOSBlbiBMYVRlWFxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBjb252ZXJ0UmVmZXJlbmNlZENvbnRlbnRUb0xhdGV4KGNvbnRlbnRMaW5lczogc3RyaW5nW10pOiBQcm9taXNlPHN0cmluZ1tdPiB7XG5cdFx0Ly8gRFx1MDBFOXRlY3RlciBsZSB0eXBlIGRlIGNvbnRlbnUgYmFzXHUwMEU5IHN1ciBsZSBub20gZHUgZmljaGllciBvdSBsZSBjb250ZW51XG5cdFx0Y29uc3QgaXNUYWJsZSA9IGNvbnRlbnRMaW5lcy5zb21lKGxpbmUgPT4gbGluZS5pbmNsdWRlcygnfCcpIHx8IGxpbmUuaW5jbHVkZXMoJy0tLScpKTtcblx0XHRjb25zdCBpc0ZpZ3VyZSA9IGNvbnRlbnRMaW5lcy5zb21lKGxpbmUgPT4gbGluZS5pbmNsdWRlcygnIVsnKSB8fCBsaW5lLmluY2x1ZGVzKCdmaWd1cmUnKSk7XG5cdFx0Y29uc3QgaXNFcXVhdGlvbiA9IGNvbnRlbnRMaW5lcy5zb21lKGxpbmUgPT4gbGluZS5pbmNsdWRlcygnJCQnKSB8fCBsaW5lLmluY2x1ZGVzKCckJykpO1xuXHRcdFxuXHRcdGxldCBwcm9jZXNzZWRMaW5lcyA9IFsuLi5jb250ZW50TGluZXNdO1xuXHRcdFxuXHRcdC8vIEFwcGxpcXVlciBsZXMgY29udmVyc2lvbnMgc2Vsb24gbGUgdHlwZSBkZSBjb250ZW51XG5cdFx0aWYgKGlzVGFibGUpIHtcblx0XHRcdC8vIFRyYWl0ZW1lbnQgc3BcdTAwRTljaWFsIHBvdXIgbGVzIHRhYmxlYXV4XG5cdFx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc1RhYmxlQ29udGVudChwcm9jZXNzZWRMaW5lcyk7XG5cdFx0fSBlbHNlIGlmIChpc0ZpZ3VyZSkge1xuXHRcdFx0Ly8gVHJhaXRlbWVudCBzcFx1MDBFOWNpYWwgcG91ciBsZXMgZmlndXJlc1xuXHRcdFx0cHJvY2Vzc2VkTGluZXMgPSB0aGlzLnByb2Nlc3NGaWd1cmVDb250ZW50KHByb2Nlc3NlZExpbmVzKTtcblx0XHR9IGVsc2UgaWYgKGlzRXF1YXRpb24pIHtcblx0XHRcdC8vIFRyYWl0ZW1lbnQgc3BcdTAwRTljaWFsIHBvdXIgbGVzIFx1MDBFOXF1YXRpb25zXG5cdFx0XHRwcm9jZXNzZWRMaW5lcyA9IHRoaXMucHJvY2Vzc0VxdWF0aW9uQ29udGVudChwcm9jZXNzZWRMaW5lcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFRyYWl0ZW1lbnQgZ1x1MDBFOW5cdTAwRTlyYWwgcG91ciBsZSB0ZXh0ZVxuXHRcdFx0cHJvY2Vzc2VkTGluZXMgPSB0aGlzLnByb2Nlc3NHZW5lcmFsQ29udGVudChwcm9jZXNzZWRMaW5lcyk7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBwcm9jZXNzZWRMaW5lcztcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFpdGUgbGUgY29udGVudSBkZSB0eXBlIHRhYmxlYXVcblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc1RhYmxlQ29udGVudChsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0Y29uc3QgcHJvY2Vzc2VkTGluZXM6IHN0cmluZ1tdID0gW107XG5cdFx0bGV0IGluVGFibGUgPSBmYWxzZTtcblx0XHRsZXQgdGFibGVDb250ZW50OiBzdHJpbmdbXSA9IFtdO1xuXHRcdFxuXHRcdGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuXHRcdFx0aWYgKGxpbmUuaW5jbHVkZXMoJ3wnKSAmJiBsaW5lLmluY2x1ZGVzKCctLS0nKSkge1xuXHRcdFx0XHQvLyBEXHUwMEU5YnV0IGQndW4gdGFibGVhdVxuXHRcdFx0XHRpZiAoIWluVGFibGUpIHtcblx0XHRcdFx0XHRpblRhYmxlID0gdHJ1ZTtcblx0XHRcdFx0XHR0YWJsZUNvbnRlbnQgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0YWJsZUNvbnRlbnQucHVzaChsaW5lKTtcblx0XHRcdH0gZWxzZSBpZiAoaW5UYWJsZSAmJiBsaW5lLnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdFx0Ly8gRmluIGR1IHRhYmxlYXVcblx0XHRcdFx0aW5UYWJsZSA9IGZhbHNlO1xuXHRcdFx0XHQvLyBDb252ZXJ0aXIgbGUgdGFibGVhdSBlbiBMYVRlWFxuXHRcdFx0XHRjb25zdCBsYXRleFRhYmxlID0gdGhpcy5jb252ZXJ0VGFibGVUb0xhdGV4KHRhYmxlQ29udGVudCk7XG5cdFx0XHRcdHByb2Nlc3NlZExpbmVzLnB1c2goLi4ubGF0ZXhUYWJsZSk7XG5cdFx0XHRcdHRhYmxlQ29udGVudCA9IFtdO1xuXHRcdFx0fSBlbHNlIGlmIChpblRhYmxlKSB7XG5cdFx0XHRcdHRhYmxlQ29udGVudC5wdXNoKGxpbmUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHJvY2Vzc2VkTGluZXMucHVzaChsaW5lKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVHJhaXRlciBsZSBkZXJuaWVyIHRhYmxlYXUgcydpbCBuJ2EgcGFzIFx1MDBFOXRcdTAwRTkgZmVybVx1MDBFOVxuXHRcdGlmIChpblRhYmxlICYmIHRhYmxlQ29udGVudC5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBsYXRleFRhYmxlID0gdGhpcy5jb252ZXJ0VGFibGVUb0xhdGV4KHRhYmxlQ29udGVudCk7XG5cdFx0XHRwcm9jZXNzZWRMaW5lcy5wdXNoKC4uLmxhdGV4VGFibGUpO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gcHJvY2Vzc2VkTGluZXM7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydGl0IHVuIHRhYmxlYXUgbWFya2Rvd24gZW4gTGFUZVhcblx0ICovXG5cdHByaXZhdGUgY29udmVydFRhYmxlVG9MYXRleCh0YWJsZUxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRpZiAodGFibGVMaW5lcy5sZW5ndGggPCAyKSByZXR1cm4gdGFibGVMaW5lcztcblx0XHRcblx0XHRjb25zdCBsYXRleExpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdGxhdGV4TGluZXMucHVzaCgnXFxcXGJlZ2lue3RhYmxlfVtodF0nKTtcblx0XHRsYXRleExpbmVzLnB1c2goJ1xcXFxjZW50ZXJpbmcnKTtcblx0XHRsYXRleExpbmVzLnB1c2goJ1xcXFxjYXB0aW9ue0NhcHRpb24gZHUgdGFibGVhdX0nKTtcblx0XHRsYXRleExpbmVzLnB1c2goJ1xcXFxsYWJlbHt0YWI6dGFibGV9Jyk7XG5cdFx0XG5cdFx0Ly8gQ29tcHRlciBsZXMgY29sb25uZXNcblx0XHRjb25zdCBmaXJzdFJvdyA9IHRhYmxlTGluZXNbMF07XG5cdFx0Y29uc3QgY29sdW1ucyA9IChmaXJzdFJvdy5tYXRjaCgvXFx8L2cpIHx8IFtdKS5sZW5ndGggLSAxO1xuXHRcdGNvbnN0IGNvbHVtblNwZWMgPSAnYycucmVwZWF0KGNvbHVtbnMpO1xuXHRcdFxuXHRcdGxhdGV4TGluZXMucHVzaChgXFxcXGJlZ2lue3RhYnVsYXJ9eyR7Y29sdW1uU3BlY319YCk7XG5cdFx0bGF0ZXhMaW5lcy5wdXNoKCdcXFxcaGxpbmUnKTtcblx0XHRcblx0XHQvLyBUcmFpdGVyIGxlcyBsaWduZXMgZGUgZG9ublx1MDBFOWVzXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZUxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBsaW5lID0gdGFibGVMaW5lc1tpXTtcblx0XHRcdGlmIChsaW5lLmluY2x1ZGVzKCctLS0nKSkgY29udGludWU7IC8vIElnbm9yZXIgbGEgbGlnbmUgZGUgc1x1MDBFOXBhcmF0aW9uXG5cdFx0XHRcblx0XHRcdGNvbnN0IGNlbGxzID0gbGluZS5zcGxpdCgnfCcpLmZpbHRlcihjZWxsID0+IGNlbGwudHJpbSgpICE9PSAnJyk7XG5cdFx0XHRjb25zdCBsYXRleFJvdyA9IGNlbGxzLm1hcChjZWxsID0+IGNlbGwudHJpbSgpKS5qb2luKCcgJiAnKTtcblx0XHRcdGxhdGV4TGluZXMucHVzaChsYXRleFJvdyArICcgXFxcXFxcXFwnKTtcblx0XHRcdFxuXHRcdFx0aWYgKGkgPCB0YWJsZUxpbmVzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0bGF0ZXhMaW5lcy5wdXNoKCdcXFxcaGxpbmUnKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0bGF0ZXhMaW5lcy5wdXNoKCdcXFxcZW5ke3RhYnVsYXJ9Jyk7XG5cdFx0bGF0ZXhMaW5lcy5wdXNoKCdcXFxcZW5ke3RhYmxlfScpO1xuXHRcdFxuXHRcdHJldHVybiBsYXRleExpbmVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZSBjb250ZW51IGRlIHR5cGUgZmlndXJlXG5cdCAqL1xuXHRwcml2YXRlIHByb2Nlc3NGaWd1cmVDb250ZW50KGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gbGluZXMubWFwKGxpbmUgPT4ge1xuXHRcdFx0Ly8gQ29udmVydGlyIGxlcyBpbWFnZXMgbWFya2Rvd24gZW4gTGFUZVhcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLyFcXFsoW15cXF1dKilcXF1cXCgoW14pXSspXFwpL2csIChtYXRjaCwgYWx0LCBzcmMpID0+IHtcblx0XHRcdFx0cmV0dXJuIGBcXFxcYmVnaW57ZmlndXJlfVtodGJdXG5cXFxcY2VudGVyaW5nXG5cXFxcaW5jbHVkZWdyYXBoaWNzW3dpZHRoPTAuN1xcXFxsaW5ld2lkdGhdeyR7c3JjfX1cblxcXFxjYXB0aW9ueyR7YWx0IHx8ICdDYXB0aW9uJ319XG5cXFxcbGFiZWx7ZmlnOmZpZ3VyZX1cblxcXFxlbmR7ZmlndXJlfWA7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZSBjb250ZW51IGRlIHR5cGUgXHUwMEU5cXVhdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBwcm9jZXNzRXF1YXRpb25Db250ZW50KGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gbGluZXMubWFwKGxpbmUgPT4ge1xuXHRcdFx0Ly8gQ29udmVydGlyIGxlcyBcdTAwRTlxdWF0aW9ucyBpbmxpbmVcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcJChbXiRdKylcXCQvZywgJ1xcXFwoJDFcXFxcKScpO1xuXHRcdFx0XG5cdFx0XHQvLyBDb252ZXJ0aXIgbGVzIFx1MDBFOXF1YXRpb25zIGVuIGJsb2Ncblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcJFxcJChbXiRdKylcXCRcXCQvZywgKG1hdGNoLCBlcXVhdGlvbikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYFxcXFxiZWdpbntlcXVhdGlvbn1cblxcXFxsYWJlbHtlcTplcXVhdGlvbn1cbiR7ZXF1YXRpb259XG5cXFxcZW5ke2VxdWF0aW9ufWA7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIGxpbmU7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogVHJhaXRlIGxlIGNvbnRlbnUgZ1x1MDBFOW5cdTAwRTlyYWxcblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc0dlbmVyYWxDb250ZW50KGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gbGluZXMubWFwKGxpbmUgPT4ge1xuXHRcdFx0Ly8gQ29udmVydGlyIGxlcyB0aXRyZXMgbWFya2Rvd24gZW4gTGFUZVhcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL14jICguKikkLywgJ1xcXFxzZWN0aW9ueyQxfScpO1xuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXiMjICguKikkLywgJ1xcXFxzdWJzZWN0aW9ueyQxfScpO1xuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXiMjIyAoLiopJC8sICdcXFxcc3Vic3Vic2VjdGlvbnskMX0nKTtcblx0XHRcdFxuXHRcdFx0Ly8gQ29udmVydGlyIGxlIGZvcm1hdGFnZVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXFwqXFwqKC4qPylcXCpcXCovZywgJ1xcXFx0ZXh0YmZ7JDF9Jyk7XG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXCooLio/KVxcKi9nLCAnXFxcXHRleHRpdHskMX0nKTtcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoLz09KC4qPyk9PS9nLCAnXFxcXGhseyQxfScpO1xuXHRcdFx0XG5cdFx0XHQvLyBDb252ZXJ0aXIgbGVzIGxpc3Rlc1xuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXltcXHNdKlstKitdXFxzLywgJ1xcXFxpdGVtICcpO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFpdGUgbGVzIGxpZW5zIGludGVybmVzIFtbbm90ZV1dXG5cdCAqL1xuXHRwcml2YXRlIHByb2Nlc3NJbnRlcm5hbExpbmtzKGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gbGluZXMubWFwKGxpbmUgPT4ge1xuXHRcdFx0Ly8gTGllbnMgaW50ZXJuZXMgc2ltcGxlcyBbW25vdGVdXVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXFxbXFxbKFteXFxdXSspXFxdXFxdL2csIChtYXRjaCwgbm90ZU5hbWUpID0+IHtcblx0XHRcdFx0Ly8gU2kgYydlc3QgdW5lIGNpdGF0aW9uIChub20gY291cnQpLCB1dGlsaXNlciBcXGNpdGVcblx0XHRcdFx0aWYgKHRoaXMuaXNDaXRhdGlvbihub3RlTmFtZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gYFxcXFxjaXRleyR7bm90ZU5hbWV9fWA7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gU2lub24sIHV0aWxpc2VyIFxccmVmXG5cdFx0XHRcdHJldHVybiBgXFxcXHJlZnske3RoaXMubm9ybWFsaXplTGFiZWwobm90ZU5hbWUpfX1gO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIExpZW5zIGludGVybmVzIGF2ZWMgc2VjdGlvbiBbW25vdGUjc2VjdGlvbl1dXG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXFtcXFsoW15cXF1dKykjKFteXFxdXSspXFxdXFxdL2csIChtYXRjaCwgbm90ZU5hbWUsIHNlY3Rpb25OYW1lKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGxhYmVsID0gdGhpcy5ub3JtYWxpemVMYWJlbChub3RlTmFtZSk7XG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25MYWJlbCA9IHRoaXMubm9ybWFsaXplTGFiZWwoc2VjdGlvbk5hbWUpO1xuXHRcdFx0XHRyZXR1cm4gYFxcXFxyZWZ7JHtsYWJlbH06JHtzZWN0aW9uTGFiZWx9fWA7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIGxpbmU7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogVHJhaXRlIGxlcyBjaXRhdGlvbnMgW1twMV1dLCBbW3AyXV0sIGV0Yy5cblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc0NpdGF0aW9ucyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IHtcblx0XHRcdC8vIENpdGF0aW9ucyBhdmVjIHBhdHRlcm4gcDEsIHAyLCBldGMuXG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXFtcXFtwKFxcZCspXFxdXFxdL2csICdcXFxcY2l0ZXtwJDF9Jyk7XG5cdFx0XHRcblx0XHRcdC8vIENpdGF0aW9ucyBhdmVjIHBhdHRlcm4gcmVmMSwgcmVmMiwgZXRjLlxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXFxbXFxbcmVmKFxcZCspXFxdXFxdL2csICdcXFxcY2l0ZXtyZWYkMX0nKTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIGxpbmU7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogVHJhaXRlIGxlcyByXHUwMEU5Zlx1MDBFOXJlbmNlcyBub24tZW1iYXJxdVx1MDBFOWVzXG5cdCAqL1xuXHRwcml2YXRlIHByb2Nlc3NOb25FbWJlZGRlZFJlZmVyZW5jZXMobGluZXM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiBsaW5lcy5tYXAobGluZSA9PiB7XG5cdFx0XHQvLyBDb252ZXJ0aXIgW1tub3RlXV0gZW4gXCJub3RlXCIgKHRleHRlIHNpbXBsZSlcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcW1xcWyhbXlxcXV0rKVxcXVxcXS9nLCAnJDEnKTtcblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYWl0ZSBsZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgZGUgZmlndXJlc1xuXHQgKi9cblx0cHJpdmF0ZSBwcm9jZXNzRmlndXJlUmVmZXJlbmNlcyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IHtcblx0XHRcdC8vIFJcdTAwRTlmXHUwMEU5cmVuY2VzIGRlIGZpZ3VyZXMgW1tmaWd1cmVfX2Jsb2NrX25hbWVdXVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXFxbXFxbZmlndXJlX19ibG9ja18oW15cXF1dKylcXF1cXF0vZywgJ1xcXFxyZWZ7ZmlnOiQxfScpO1xuXHRcdFx0XG5cdFx0XHQvLyBSXHUwMEU5Zlx1MDBFOXJlbmNlcyBkZSBmaWd1cmVzIGF2ZWMgXFxyZWZcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcXFxyZWZcXHtmaWd1cmVfX2Jsb2NrXyhbXn1dKylcXH0vZywgJ1xcXFxyZWZ7ZmlnOiQxfScpO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFpdGUgbGVzIHJcdTAwRTlmXHUwMEU5cmVuY2VzIGRlIHRhYmxlYXV4XG5cdCAqL1xuXHRwcml2YXRlIHByb2Nlc3NUYWJsZVJlZmVyZW5jZXMobGluZXM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiBsaW5lcy5tYXAobGluZSA9PiB7XG5cdFx0XHQvLyBSXHUwMEU5Zlx1MDBFOXJlbmNlcyBkZSB0YWJsZWF1eCBbW3RhYmxlX19ibG9ja19uYW1lXV1cblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcW1xcW3RhYmxlX19ibG9ja18oW15cXF1dKylcXF1cXF0vZywgJ1xcXFxyZWZ7dGFiOiQxfScpO1xuXHRcdFx0XG5cdFx0XHQvLyBSXHUwMEU5Zlx1MDBFOXJlbmNlcyBkZSB0YWJsZWF1eCBhdmVjIFxccmVmXG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKC9cXFxccmVmXFx7dGFibGVfX2Jsb2NrXyhbXn1dKylcXH0vZywgJ1xcXFxyZWZ7dGFiOiQxfScpO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBWXHUwMEU5cmlmaWUgc2kgdW5lIHJcdTAwRTlmXHUwMEU5cmVuY2UgZXN0IHVuZSBjaXRhdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBpc0NpdGF0aW9uKG5vdGVOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHQvLyBQYXR0ZXJuIHBvdXIgbGVzIGNpdGF0aW9ucyA6IHAxLCBwMiwgcmVmMSwgcmVmMiwgZXRjLlxuXHRcdGNvbnN0IGNpdGF0aW9uUGF0dGVybiA9IC9eKHB8cmVmKVxcZCskLztcblx0XHRyZXR1cm4gY2l0YXRpb25QYXR0ZXJuLnRlc3Qobm90ZU5hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE5vcm1hbGlzZSB1biBsYWJlbCBwb3VyIExhVGVYXG5cdCAqL1xuXHRwcml2YXRlIG5vcm1hbGl6ZUxhYmVsKGxhYmVsOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdHJldHVybiBsYWJlbFxuXHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdC5yZXBsYWNlKC9bXmEtejAtOV0vZywgJy0nKVxuXHRcdFx0LnJlcGxhY2UoLy0rL2csICctJylcblx0XHRcdC5yZXBsYWNlKC9eLXwtJC9nLCAnJyk7XG5cdH1cblxuXHQvKipcblx0ICogVHJvdXZlIHVuZSBub3RlIHBhciBzb24gbm9tXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIGZpbmROb3RlQnlOYW1lKG5vdGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPFRGaWxlIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXHRcdFxuXHRcdC8vIENoZXJjaGVyIHBhciBub20gZXhhY3Rcblx0XHRsZXQgZmlsZSA9IGZpbGVzLmZpbmQoZiA9PiBmLmJhc2VuYW1lID09PSBub3RlTmFtZSk7XG5cdFx0aWYgKGZpbGUpIHJldHVybiBmaWxlO1xuXG5cdFx0Ly8gQ2hlcmNoZXIgcGFyIG5vbSBhdmVjIGV4dGVuc2lvblxuXHRcdGZpbGUgPSBmaWxlcy5maW5kKGYgPT4gZi5uYW1lID09PSBgJHtub3RlTmFtZX0ubWRgKTtcblx0XHRpZiAoZmlsZSkgcmV0dXJuIGZpbGU7XG5cblx0XHQvLyBDaGVyY2hlciBwYXIgY2hlbWluIHBhcnRpZWxcblx0XHRmaWxlID0gZmlsZXMuZmluZChmID0+IGYucGF0aC5pbmNsdWRlcyhub3RlTmFtZSkpO1xuXHRcdHJldHVybiBmaWxlIHx8IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogT2J0aWVudCBsZSBjb250ZW51IGQndW5lIG5vdGVcblx0ICovXG5cdHByaXZhdGUgYXN5bmMgZ2V0Tm90ZUNvbnRlbnQobm90ZU5hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGZpbGUgPSBhd2FpdCB0aGlzLmZpbmROb3RlQnlOYW1lKG5vdGVOYW1lKTtcblx0XHRpZiAoIWZpbGUpIHJldHVybiBudWxsO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBFcnJldXIgbG9ycyBkZSBsYSBsZWN0dXJlIGRlICR7bm90ZU5hbWV9OmAsIGVycm9yKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFpdGUgbGVzIHJcdTAwRTlmXHUwMEU5cmVuY2VzIGF2ZWMgbnVtXHUwMEU5cm9zIGRlIHNlY3Rpb25cblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc1NlY3Rpb25SZWZlcmVuY2VzKGxpbmVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuZ2V0QWRkU2VjdGlvbk51bWJlckFmdGVyUmVmZXJlbmNpbmcoKSkge1xuXHRcdFx0cmV0dXJuIGxpbmVzO1xuXHRcdH1cblxuXHRcdHJldHVybiBsaW5lcy5tYXAobGluZSA9PiB7XG5cdFx0XHQvLyBBam91dGVyIGxlIG51bVx1MDBFOXJvIGRlIHNlY3Rpb24gYXByXHUwMEU4cyBsZXMgclx1MDBFOWZcdTAwRTlyZW5jZXNcblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcXFxyZWZcXHsoW159XSspXFx9L2csIChtYXRjaCwgbGFiZWwpID0+IHtcblx0XHRcdFx0Ly8gVE9ETzogSW1wbFx1MDBFOW1lbnRlciBsYSBsb2dpcXVlIHBvdXIgb2J0ZW5pciBsZSBudW1cdTAwRTlybyBkZSBzZWN0aW9uXG5cdFx0XHRcdHJldHVybiBgJHttYXRjaH0gKHNlY3Rpb24pYDtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFpdGUgbGVzIHJcdTAwRTlmXHUwMEU5cmVuY2VzIGNyb2lzXHUwMEU5ZXMgZW50cmUgc2VjdGlvbnNcblx0ICovXG5cdHByaXZhdGUgcHJvY2Vzc0Nyb3NzUmVmZXJlbmNlcyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IHtcblx0XHRcdC8vIFJcdTAwRTlmXHUwMEU5cmVuY2VzIGNyb2lzXHUwMEU5ZXMgYXZlYyBmb3JtYXQgW1tzZWN0aW9uI3N1YnNlY3Rpb25dXVxuXHRcdFx0bGluZSA9IGxpbmUucmVwbGFjZSgvXFxbXFxbKFteI10rKSMoW15cXF1dKylcXF1cXF0vZywgKG1hdGNoLCBzZWN0aW9uLCBzdWJzZWN0aW9uKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25MYWJlbCA9IHRoaXMubm9ybWFsaXplTGFiZWwoc2VjdGlvbik7XG5cdFx0XHRcdGNvbnN0IHN1YnNlY3Rpb25MYWJlbCA9IHRoaXMubm9ybWFsaXplTGFiZWwoc3Vic2VjdGlvbik7XG5cdFx0XHRcdHJldHVybiBgXFxcXHJlZnske3NlY3Rpb25MYWJlbH06JHtzdWJzZWN0aW9uTGFiZWx9fWA7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIGxpbmU7XG5cdFx0fSk7XG5cdH1cbn0gIiwgImltcG9ydCB7IEFwcCwgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTZXR0aW5nc01hbmFnZXIgfSBmcm9tICcuLi8uLi9zZXR0aW5ncy9TZXR0aW5nc01hbmFnZXInO1xuaW1wb3J0IHsgUGF0aE1hbmFnZXIgfSBmcm9tICcuLi8uLi91dGlscy9QYXRoTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBMYXRleEdlbmVyYXRvciB7XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgc2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlcjtcblx0cHJpdmF0ZSBwYXRoTWFuYWdlcjogUGF0aE1hbmFnZXI7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzOiBTZXR0aW5nc01hbmFnZXIsIHBhdGhNYW5hZ2VyOiBQYXRoTWFuYWdlcikge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0XHR0aGlzLnBhdGhNYW5hZ2VyID0gcGF0aE1hbmFnZXI7XG5cdH1cblxuXHQvKipcblx0ICogR1x1MDBFOW5cdTAwRThyZSBsZSBjb250ZW51IExhVGVYIGNvbXBsZXRcblx0ICovXG5cdGFzeW5jIGdlbmVyYXRlKGxpbmVzOiBzdHJpbmdbXSwgZmlsZTogVEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdC8vIDEuIEdcdTAwRTluXHUwMEU5cmVyIGxlIHByXHUwMEU5YW1idWxlXG5cdFx0Y29uc3QgcHJlYW1ibGUgPSB0aGlzLmdlbmVyYXRlUHJlYW1ibGUoKTtcblxuXHRcdC8vIDIuIEdcdTAwRTluXHUwMEU5cmVyIGxlIGRcdTAwRTlidXQgZHUgZG9jdW1lbnRcblx0XHRjb25zdCBkb2N1bWVudFN0YXJ0ID0gdGhpcy5nZW5lcmF0ZURvY3VtZW50U3RhcnQoKTtcblxuXHRcdC8vIDMuIFRyYWl0ZXIgbGUgY29udGVudSBwcmluY2lwYWxcblx0XHRjb25zdCBtYWluQ29udGVudCA9IHRoaXMucHJvY2Vzc01haW5Db250ZW50KGxpbmVzKTtcblxuXHRcdC8vIDQuIEdcdTAwRTluXHUwMEU5cmVyIGxhIGZpbiBkdSBkb2N1bWVudFxuXHRcdGNvbnN0IGRvY3VtZW50RW5kID0gdGhpcy5nZW5lcmF0ZURvY3VtZW50RW5kKCk7XG5cblx0XHQvLyA1LiBBc3NlbWJsZXIgbGUgdG91dFxuXHRcdHJldHVybiBwcmVhbWJsZSArICdcXG5cXG4nICsgZG9jdW1lbnRTdGFydCArICdcXG5cXG4nICsgbWFpbkNvbnRlbnQgKyAnXFxuXFxuJyArIGRvY3VtZW50RW5kO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdcdTAwRTluXHUwMEU4cmUgbGUgcHJcdTAwRTlhbWJ1bGUgTGFUZVhcblx0ICovXG5cdHByaXZhdGUgZ2VuZXJhdGVQcmVhbWJsZSgpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGRvY3VtZW50Q2xhc3MgPSB0aGlzLnNldHRpbmdzLmdldERvY3VtZW50Q2xhc3MoKTtcblx0XHRjb25zdCBmb250U2l6ZSA9IHRoaXMuc2V0dGluZ3MuZ2V0Rm9udFNpemUoKTtcblx0XHRjb25zdCBmb250c2l6ZU9wdGlvbiA9IGZvbnRTaXplID8gYFske2ZvbnRTaXplfV1gIDogJyc7XG5cblx0XHRsZXQgcHJlYW1ibGUgPSBgXFxcXGRvY3VtZW50Y2xhc3Mke2ZvbnRzaXplT3B0aW9ufXske2RvY3VtZW50Q2xhc3N9fWA7XG5cblx0XHQvLyBQYWNrYWdlcyBkZSBiYXNlXG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFx1c2VwYWNrYWdlW3RhYmxlXXt4Y29sb3J9Jztcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXHVzZXBhY2thZ2V7dGFidWxhcnh9Jztcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXHVzZXBhY2thZ2V7bG9uZ3RhYmxlfSc7XG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFx1c2VwYWNrYWdle3RhYnVsYXJyYXl9Jztcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXHVzZXBhY2thZ2V7ZW51bWl0ZW0sYW1zc3ltYn0nO1xuXHRcdHByZWFtYmxlICs9ICdcXG5cXFxcdXNlcGFja2FnZXtoeXBlcnJlZn0nO1xuXHRcdHByZWFtYmxlICs9ICdcXG5cXFxcdXNlcGFja2FnZXtnZW9tZXRyeX0nO1xuXHRcdHByZWFtYmxlICs9ICdcXG5cXFxcdXNlcGFja2FnZXtjbGV2ZXJlZn0nO1xuXG5cdFx0Ly8gQ29uZmlndXJhdGlvbiBkZXMgbGlzdGVzXG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFxuZXdsaXN0e3RvZG9saXN0fXtpdGVtaXplfXsyfSc7XG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFxzZXRsaXN0W3RvZG9saXN0XXtsYWJlbD0kXFxcXHNxdWFyZSR9JztcblxuXHRcdC8vIENvbmZpZ3VyYXRpb24gZGVzIGNpdGF0aW9uc1xuXHRcdHByZWFtYmxlICs9ICdcXG5cXFxcbmV3dG90Y291bnRlcntjaXRudW19Jztcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXGRlZlxcXFxvbGRiaWJpdGVte30gXFxcXGxldFxcXFxvbGRiaWJpdGVtPVxcXFxiaWJpdGVtJztcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXGRlZlxcXFxiaWJpdGVte1xcXFxzdGVwY291bnRlcntjaXRudW19XFxcXG9sZGJpYml0ZW19JztcblxuXHRcdC8vIENvbmZpZ3VyYXRpb24gZGVzIHBhcmFncmFwaGVzXG5cdFx0Y29uc3QgcGFyYWdyYXBoSW5kZW50ID0gdGhpcy5zZXR0aW5ncy5nZXRQYXJhZ3JhcGhJbmRlbnQoKTtcblx0XHRwcmVhbWJsZSArPSBgXFxuXFxcXHNldGxlbmd0aHtcXFxccGFyaW5kZW50fXske3BhcmFncmFwaEluZGVudH1wdH1gO1xuXG5cdFx0Ly8gTWFyZ2VzXG5cdFx0Y29uc3QgbWFyZ2luID0gdGhpcy5zZXR0aW5ncy5nZXRNYXJnaW4oKTtcblx0XHRpZiAobWFyZ2luKSB7XG5cdFx0XHRwcmVhbWJsZSArPSBgXFxuXFxcXHVzZXBhY2thZ2VbbWFyZ2luPSR7bWFyZ2lufV17Z2VvbWV0cnl9YDtcblx0XHR9XG5cblx0XHQvLyBDb25maWd1cmF0aW9uIGRlcyBoeXBlcmxpZW5zXG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFxoeXBlcnNldHVweyc7XG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcdGNvbG9ybGlua3MgPSB0cnVlLCc7XG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcdHVybGNvbG9yID0gYmx1ZSwnO1xuXHRcdHByZWFtYmxlICs9ICdcXG5cXHRsaW5rY29sb3IgPSBibHVlLCc7XG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcdGNpdGVjb2xvciA9IGJsdWUnO1xuXHRcdHByZWFtYmxlICs9ICdcXG59JztcblxuXHRcdC8vIENvbmZpZ3VyYXRpb24gZGVzIGNvdWxldXJzXG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFxzZXRobGNvbG9ye3llbGxvd30nO1xuXG5cdFx0Ly8gQ29uZmlndXJhdGlvbiBkZXMgc2VjdGlvbnNcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXHNldGNvdW50ZXJ7c2VjbnVtZGVwdGh9ezR9Jztcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXHNldGxlbmd0aHtcXFxccGFyc2tpcH17N3B0fSc7XG5cblx0XHQvLyBDb25maWd1cmF0aW9uIGRlcyBtYXJnZXNcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXGxldFxcXFxvbGRtYXJnaW5wYXJcXFxcbWFyZ2lucGFyJztcblx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXHJlbmV3Y29tbWFuZFxcXFxtYXJnaW5wYXJbMV17XFxcXG9sZG1hcmdpbnBhcntcXFxcdGlueSAjMX19JztcblxuXHRcdC8vIENvbW1hbmRlcyBwZXJzb25uYWxpc1x1MDBFOWVzXG5cdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFxuZXdjb21tYW5ke1xcXFxpZ25vcmV9WzFde30nO1xuXG5cdFx0Ly8gQ29uZmlndXJhdGlvbiBzcFx1MDBFOWNpYWxlIHBvdXIgSUZBQ1xuXHRcdGlmIChkb2N1bWVudENsYXNzID09PSAnaWZhY2NvbmYnKSB7XG5cdFx0XHRwcmVhbWJsZSArPSAnXFxuXFxcXG5ld2NvdW50ZXJ7cGFydH0nO1xuXHRcdFx0cHJlYW1ibGUgKz0gJ1xcblxcXFxjb3VudGVyd2l0aGluKntzZWN0aW9ufXtwYXJ0fSc7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByZWFtYmxlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdcdTAwRTluXHUwMEU4cmUgbGUgZFx1MDBFOWJ1dCBkdSBkb2N1bWVudFxuXHQgKi9cblx0cHJpdmF0ZSBnZW5lcmF0ZURvY3VtZW50U3RhcnQoKTogc3RyaW5nIHtcblx0XHRsZXQgc3RhcnQgPSAnXFxcXGJlZ2lue2RvY3VtZW50fSc7XG5cblx0XHQvLyBBdXRvcmlzZXIgbGVzIHNhdXRzIGRlIHBhZ2Ugc2kgY29uZmlndXJcdTAwRTlcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5nZXRBbGxvd0Rpc3BsYXlCcmVha3MoKSkge1xuXHRcdFx0c3RhcnQgKz0gJ1xcblxcXFxhbGxvd2Rpc3BsYXlicmVha3MnO1xuXHRcdH1cblxuXHRcdC8vIEF1dGV1clxuXHRcdGNvbnN0IGF1dGhvciA9IHRoaXMuc2V0dGluZ3MuZ2V0QXV0aG9yKCk7XG5cdFx0aWYgKGF1dGhvcikge1xuXHRcdFx0c3RhcnQgKz0gYFxcblxcXFxhdXRob3J7JHthdXRob3J9fWA7XG5cdFx0fVxuXG5cdFx0Ly8gVGl0cmVcblx0XHRjb25zdCB0aXRsZSA9IHRoaXMuc2V0dGluZ3MuZ2V0VGl0bGUoKTtcblx0XHRpZiAodGl0bGUpIHtcblx0XHRcdHN0YXJ0ICs9IGBcXG5cXFxcdGl0bGV7JHt0aXRsZX19YDtcblx0XHRcdHN0YXJ0ICs9ICdcXG5cXFxcbWFrZXRpdGxlJztcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RhcnQ7XG5cdH1cblxuXHQvKipcblx0ICogVHJhaXRlIGxlIGNvbnRlbnUgcHJpbmNpcGFsXG5cdCAqL1xuXHRwcml2YXRlIHByb2Nlc3NNYWluQ29udGVudChsaW5lczogc3RyaW5nW10pOiBzdHJpbmcge1xuXHRcdC8vIFRyb3V2ZXIgbGUgdGV4dGUgYXZhbnQgbGEgcHJlbWlcdTAwRThyZSBzZWN0aW9uXG5cdFx0bGV0IHRleHRCZWZvcmVGaXJzdFNlY3Rpb24gPSAnJztcblx0XHRsZXQgbWFpbkNvbnRlbnQgPSAnJztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcblx0XHRcdFxuXHRcdFx0aWYgKGxpbmUuc3RhcnRzV2l0aCgnXFxcXHNlY3Rpb24nKSkge1xuXHRcdFx0XHQvLyBDb21tZW5jZXIgbGUgY29udGVudSBwcmluY2lwYWwgXHUwMEUwIHBhcnRpciBkZSBsYSBwcmVtaVx1MDBFOHJlIHNlY3Rpb25cblx0XHRcdFx0bWFpbkNvbnRlbnQgPSBsaW5lcy5zbGljZShpKS5qb2luKCdcXG4nKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0ZXh0QmVmb3JlRmlyc3RTZWN0aW9uICs9IGxpbmUgKyAnXFxuJztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBam91dGVyIGxlIHRleHRlIGF2YW50IGxhIHByZW1pXHUwMEU4cmUgc2VjdGlvblxuXHRcdGlmICh0ZXh0QmVmb3JlRmlyc3RTZWN0aW9uLnRyaW0oKSkge1xuXHRcdFx0bWFpbkNvbnRlbnQgPSB0ZXh0QmVmb3JlRmlyc3RTZWN0aW9uICsgbWFpbkNvbnRlbnQ7XG5cdFx0fVxuXG5cdFx0Ly8gQWpvdXRlciBsYSB0YWJsZSBkZXMgbWF0aVx1MDBFOHJlcyBzaSBjb25maWd1clx1MDBFOWVcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5nZXRBZGRUYWJsZU9mQ29udGVudHMoKSkge1xuXHRcdFx0bWFpbkNvbnRlbnQgPSAnXFxcXHRhYmxlb2Zjb250ZW50c1xcblxcXFxuZXdwYWdlXFxuXFxuJyArIG1haW5Db250ZW50O1xuXHRcdH1cblxuXHRcdHJldHVybiBtYWluQ29udGVudDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHXHUwMEU5blx1MDBFOHJlIGxhIGZpbiBkdSBkb2N1bWVudFxuXHQgKi9cblx0cHJpdmF0ZSBnZW5lcmF0ZURvY3VtZW50RW5kKCk6IHN0cmluZyB7XG5cdFx0bGV0IGVuZCA9ICcnO1xuXG5cdFx0Ly8gTm91dmVsbGUgcGFnZSBhdmFudCBiaWJsaW9ncmFwaGllIHNpIGNvbmZpZ3VyXHUwMEU5ZVxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmdldEFkZE5ld1BhZ2VCZWZvcmVCaWJsaW9ncmFwaHkoKSkge1xuXHRcdFx0ZW5kICs9ICdcXG5cXFxcbmV3cGFnZVxcblxcbic7XG5cdFx0fVxuXG5cdFx0Ly8gQmlibGlvZ3JhcGhpZVxuXHRcdGVuZCArPSAnXFxuXFxcXGJpYmxpb2dyYXBoeXN0eWxle2FwYWNpdGV9Jztcblx0XHRlbmQgKz0gJ1xcblxcXFxiaWJsaW9ncmFwaHl7QklCVEVYfSc7XG5cblx0XHQvLyBGaW4gZHUgZG9jdW1lbnRcblx0XHRlbmQgKz0gJ1xcblxcXFxlbmR7ZG9jdW1lbnR9JztcblxuXHRcdHJldHVybiBlbmQ7XG5cdH1cblxuXHQvKipcblx0ICogR1x1MDBFOW5cdTAwRThyZSBsZXMgcGFja2FnZXMgXHUwMEUwIGNoYXJnZXIgc2Vsb24gbGVzIHBhcmFtXHUwMEU4dHJlc1xuXHQgKi9cblx0cHJpdmF0ZSBnZW5lcmF0ZVBhY2thZ2VzKCk6IHN0cmluZyB7XG5cdFx0Y29uc3QgcGFja2FnZXM6IHN0cmluZ1tdID0gW107XG5cblx0XHQvLyBQYWNrYWdlcyBkZSBiYXNlXG5cdFx0cGFja2FnZXMucHVzaCgnXFxcXHVzZXBhY2thZ2VbdGFibGVde3hjb2xvcn0nKTtcblx0XHRwYWNrYWdlcy5wdXNoKCdcXFxcdXNlcGFja2FnZXt0YWJ1bGFyeH0nKTtcblx0XHRwYWNrYWdlcy5wdXNoKCdcXFxcdXNlcGFja2FnZXtsb25ndGFibGV9Jyk7XG5cdFx0cGFja2FnZXMucHVzaCgnXFxcXHVzZXBhY2thZ2V7dGFidWxhcnJheX0nKTtcblxuXHRcdC8vIFBhY2thZ2VzIHNlbG9uIGxhIGNsYXNzZSBkZSBkb2N1bWVudFxuXHRcdGNvbnN0IGRvY3VtZW50Q2xhc3MgPSB0aGlzLnNldHRpbmdzLmdldERvY3VtZW50Q2xhc3MoKTtcblx0XHRpZiAoZG9jdW1lbnRDbGFzcyA9PT0gJ2lmYWNjb25mJykge1xuXHRcdFx0cGFja2FnZXMucHVzaCgnJVx1RDgzRFx1REM4MFxcXFx1c2VwYWNrYWdle2lmYWNjb25mfScpO1xuXHRcdH1cblxuXHRcdC8vIFBhY2thZ2VzIHN1cHBsXHUwMEU5bWVudGFpcmVzXG5cdFx0cGFja2FnZXMucHVzaCgnXFxcXHVzZXBhY2thZ2V7ZW51bWl0ZW0sYW1zc3ltYn0nKTtcblx0XHRwYWNrYWdlcy5wdXNoKCdcXFxcdXNlcGFja2FnZXtoeXBlcnJlZn0nKTtcblx0XHRwYWNrYWdlcy5wdXNoKCdcXFxcdXNlcGFja2FnZXtnZW9tZXRyeX0nKTtcblx0XHRwYWNrYWdlcy5wdXNoKCdcXFxcdXNlcGFja2FnZXtjbGV2ZXJlZn0nKTtcblxuXHRcdHJldHVybiBwYWNrYWdlcy5qb2luKCdcXG4nKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHXHUwMEU5blx1MDBFOHJlIGxhIGNvbmZpZ3VyYXRpb24gZGVzIGh5cGVybGllbnNcblx0ICovXG5cdHByaXZhdGUgZ2VuZXJhdGVIeXBlcmxpbmtTZXR1cCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgXFxcXGh5cGVyc2V0dXB7XG5cXHRjb2xvcmxpbmtzID0gdHJ1ZSxcblxcdHVybGNvbG9yID0gYmx1ZSxcblxcdGxpbmtjb2xvciA9IGJsdWUsXG5cXHRjaXRlY29sb3IgPSBibHVlXG59YDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHXHUwMEU5blx1MDBFOHJlIGxhIGNvbmZpZ3VyYXRpb24gZGVzIG1hcmdlc1xuXHQgKi9cblx0cHJpdmF0ZSBnZW5lcmF0ZU1hcmdpblNldHVwKCk6IHN0cmluZyB7XG5cdFx0Y29uc3QgbWFyZ2luID0gdGhpcy5zZXR0aW5ncy5nZXRNYXJnaW4oKTtcblx0XHRpZiAobWFyZ2luKSB7XG5cdFx0XHRyZXR1cm4gYFxcXFx1c2VwYWNrYWdlW21hcmdpbj0ke21hcmdpbn1de2dlb21ldHJ5fWA7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdC8qKlxuXHQgKiBHXHUwMEU5blx1MDBFOHJlIGxhIGNvbmZpZ3VyYXRpb24gZGVzIHBhcmFncmFwaGVzXG5cdCAqL1xuXHRwcml2YXRlIGdlbmVyYXRlUGFyYWdyYXBoU2V0dXAoKTogc3RyaW5nIHtcblx0XHRjb25zdCBpbmRlbnQgPSB0aGlzLnNldHRpbmdzLmdldFBhcmFncmFwaEluZGVudCgpO1xuXHRcdHJldHVybiBgXFxcXHNldGxlbmd0aHtcXFxccGFyaW5kZW50fXske2luZGVudH1wdH1gO1xuXHR9XG5cblx0LyoqXG5cdCAqIE9idGllbnQgbGUgY2hlbWluIGR1IGZpY2hpZXIgLnRleCBjb3JyZXNwb25kYW50XG5cdCAqL1xuXHRwcml2YXRlIGdldFRleEZpbGVQYXRoKGZpbGU6IFRGaWxlKTogc3RyaW5nIHtcblx0XHRjb25zdCBiYXNlTmFtZSA9IHRoaXMucGF0aE1hbmFnZXIuZ2V0QmFzZW5hbWUoZmlsZS5wYXRoKTtcblx0XHRjb25zdCB3cml0aW5nUGF0aCA9IHRoaXMucGF0aE1hbmFnZXIuZ2V0V3JpdGluZ1BhdGgoKTtcblx0XHQvLyBVdGlsaXNlciBsZSBQYXRoTWFuYWdlciBwb3VyIGpvaW5kcmUgbGVzIGNoZW1pbnMgY29ycmVjdGVtZW50XG5cdFx0cmV0dXJuIHRoaXMucGF0aE1hbmFnZXIuam9pblBhdGhzKHdyaXRpbmdQYXRoLCBgJHtiYXNlTmFtZX0udGV4YCk7XG5cdH1cbn0gIiwgImltcG9ydCB7IEFwcCwgVEZpbGUsIEZpbGVTeXN0ZW1BZGFwdGVyIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyBSZW1wbGFjZW1lbnQgZGUgbCdpbXBvcnQgcGF0aCBwYXIgdW5lIGltcGxcdTAwRTltZW50YXRpb24gc2ltcGxlXG5jb25zdCBwYXRoID0ge1xuXHRub3JtYWxpemU6IChwOiBzdHJpbmcpID0+IHAucmVwbGFjZSgvXFxcXC9nLCAnLycpLnJlcGxhY2UoL1xcLysvZywgJy8nKSxcblx0am9pbjogKC4uLnBhdGhzOiBzdHJpbmdbXSkgPT4gcGF0aHMuam9pbignLycpLnJlcGxhY2UoL1xcLysvZywgJy8nKSxcblx0ZGlybmFtZTogKHA6IHN0cmluZykgPT4gcC5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKS5qb2luKCcvJykgfHwgJy4nLFxuXHRiYXNlbmFtZTogKHA6IHN0cmluZywgZXh0Pzogc3RyaW5nKSA9PiB7XG5cdFx0Y29uc3QgbmFtZSA9IHAuc3BsaXQoJy8nKS5wb3AoKSB8fCAnJztcblx0XHRyZXR1cm4gZXh0ID8gbmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoZXh0ICsgJyQnKSwgJycpIDogbmFtZTtcblx0fSxcblx0cmVzb2x2ZTogKC4uLnBhdGhzOiBzdHJpbmdbXSkgPT4ge1xuXHRcdGNvbnN0IGpvaW5lZCA9IHBhdGhzLmpvaW4oJy8nKTtcblx0XHRyZXR1cm4gam9pbmVkLnN0YXJ0c1dpdGgoJy8nKSA/IGpvaW5lZCA6ICcvJyArIGpvaW5lZDtcblx0fSxcblx0aXNBYnNvbHV0ZTogKHA6IHN0cmluZykgPT4gcC5zdGFydHNXaXRoKCcvJyksXG5cdGV4dG5hbWU6IChwOiBzdHJpbmcpID0+IHtcblx0XHRjb25zdCBtYXRjaCA9IHAubWF0Y2goL1xcLlteXFwvXSokLyk7XG5cdFx0cmV0dXJuIG1hdGNoID8gbWF0Y2hbMF0gOiAnJztcblx0fSxcblx0c2VwOiAnLydcbn07XG5cbmV4cG9ydCBjbGFzcyBQYXRoTWFuYWdlciB7XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgdmF1bHRQYXRoOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHRpZiAoYXBwLnZhdWx0LmFkYXB0ZXIgaW5zdGFuY2VvZiBGaWxlU3lzdGVtQWRhcHRlcikge1xuXHRcdFx0dGhpcy52YXVsdFBhdGggPSBhcHAudmF1bHQuYWRhcHRlci5nZXRCYXNlUGF0aCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0xcXCdhZGFwdGVyIGR1IHZhdWx0IG5cXCdlc3QgcGFzIEZpbGVTeXN0ZW1BZGFwdGVyLCBpbXBvc3NpYmxlIGRlIHJcdTAwRTljdXBcdTAwRTlyZXIgbGUgY2hlbWluIGFic29sdSBkdSB2YXVsdC4nKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTm9ybWFsaXNlIHVuIGNoZW1pbiBwb3VyIFx1MDBFQXRyZSBjb21wYXRpYmxlIGNyb3NzLXBsYXRmb3JtXG5cdCAqL1xuXHRub3JtYWxpemVQYXRoKGlucHV0UGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gcGF0aC5ub3JtYWxpemUoaW5wdXRQYXRoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBKb2ludCBkZXMgY2hlbWlucyBkZSBtYW5pXHUwMEU4cmUgY3Jvc3MtcGxhdGZvcm1cblx0ICovXG5cdGpvaW5QYXRocyguLi5wYXRoczogc3RyaW5nW10pOiBzdHJpbmcge1xuXHRcdHJldHVybiBwYXRoLmpvaW4oLi4ucGF0aHMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE9idGllbnQgbGUgY2hlbWluIGFic29sdSBkdSB2YXVsdFxuXHQgKi9cblx0Z2V0VmF1bHRQYXRoKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMudmF1bHRQYXRoO1xuXHR9XG5cblx0LyoqXG5cdCAqIE9idGllbnQgbGUgY2hlbWluIGFic29sdSBkJ3VuIGZpY2hpZXJcblx0ICovXG5cdGdldEFic29sdXRlUGF0aChyZWxhdGl2ZVBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHBhdGgucmVzb2x2ZSh0aGlzLnZhdWx0UGF0aCwgcmVsYXRpdmVQYXRoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBWXHUwMEU5cmlmaWUgc2kgdW4gY2hlbWluIGVzdCBhYnNvbHVcblx0ICovXG5cdGlzQWJzb2x1dGVQYXRoKGlucHV0UGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHBhdGguaXNBYnNvbHV0ZShpbnB1dFBhdGgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE9idGllbnQgbGUgclx1MDBFOXBlcnRvaXJlIGQndW4gZmljaGllclxuXHQgKi9cblx0Z2V0RGlyZWN0b3J5KGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdHJldHVybiBwYXRoLmRpcm5hbWUoZmlsZVBhdGgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE9idGllbnQgbGUgbm9tIGRlIGZpY2hpZXIgc2FucyBleHRlbnNpb25cblx0ICovXG5cdGdldEJhc2VuYW1lKGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdHJldHVybiBwYXRoLmJhc2VuYW1lKGZpbGVQYXRoLCBwYXRoLmV4dG5hbWUoZmlsZVBhdGgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPYnRpZW50IGwnZXh0ZW5zaW9uIGQndW4gZmljaGllclxuXHQgKi9cblx0Z2V0RXh0ZW5zaW9uKGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdHJldHVybiBwYXRoLmV4dG5hbWUoZmlsZVBhdGgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnN0cnVpdCBsZSBjaGVtaW4gdmVycyBsZSBkb3NzaWVyIFdyaXRpbmdcblx0ICovXG5cdGdldFdyaXRpbmdQYXRoKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuam9pblBhdGhzKHRoaXMudmF1bHRQYXRoLCAnXHUyNzBEV3JpdGluZycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnN0cnVpdCBsZSBjaGVtaW4gdmVycyBsZSBkb3NzaWVyIEF1dG9tYXRpb25zXG5cdCAqL1xuXHRnZXRBdXRvbWF0aW9uc1BhdGgoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5qb2luUGF0aHModGhpcy52YXVsdFBhdGgsICdcdUQ4M0RcdURDNjhcdTIwMERcdUQ4M0RcdURDQkJBdXRvbWF0aW9ucycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnN0cnVpdCBsZSBjaGVtaW4gdmVycyBsZSBkb3NzaWVyIExpdGVyYXR1cmVcblx0ICovXG5cdGdldExpdGVyYXR1cmVQYXRoKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuam9pblBhdGhzKHRoaXMudmF1bHRQYXRoLCAnXHVEODNEXHVEQ0RBTGl0ZXJhdHVyZScpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnN0cnVpdCBsZSBjaGVtaW4gdmVycyBsZXMgYmxvY3MgZCdcdTAwRTlxdWF0aW9uc1xuXHQgKi9cblx0Z2V0RXF1YXRpb25CbG9ja3NQYXRoKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuam9pblBhdGhzKHRoaXMuZ2V0V3JpdGluZ1BhdGgoKSwgJ2VxdWF0aW9uIGJsb2NrcycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnN0cnVpdCBsZSBjaGVtaW4gdmVycyBsZXMgYmxvY3MgZGUgdGFibGVhdXhcblx0ICovXG5cdGdldFRhYmxlQmxvY2tzUGF0aCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmpvaW5QYXRocyh0aGlzLmdldFdyaXRpbmdQYXRoKCksICd0YWJsZSBibG9ja3MnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPYnRpZW50IGxlIGNoZW1pbiBkJ3VuIGZpY2hpZXIgVEZpbGVcblx0ICovXG5cdGdldEZpbGVQYXRoKGZpbGU6IFRGaWxlKTogc3RyaW5nIHtcblx0XHRpZiAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1BZGFwdGVyKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hcHAudmF1bHQuYWRhcHRlci5nZXRGdWxsUGF0aChmaWxlLnBhdGgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0xcXCdhZGFwdGVyIGR1IHZhdWx0IG5cXCdlc3QgcGFzIEZpbGVTeXN0ZW1BZGFwdGVyLCBpbXBvc3NpYmxlIGRlIHJcdTAwRTljdXBcdTAwRTlyZXIgbGUgY2hlbWluIGFic29sdSBkdSBmaWNoaWVyLicpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBWXHUwMEU5cmlmaWUgc2kgdW4gZmljaGllciBleGlzdGVcblx0ICovXG5cdGFzeW5jIGZpbGVFeGlzdHMoZmlsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnN0YXQoZmlsZVBhdGgpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENyXHUwMEU5ZSB1biByXHUwMEU5cGVydG9pcmUgcydpbCBuJ2V4aXN0ZSBwYXNcblx0ICovXG5cdGFzeW5jIGVuc3VyZURpcmVjdG9yeShkaXJQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5ta2RpcihkaXJQYXRoKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Ly8gTGUgclx1MDBFOXBlcnRvaXJlIGV4aXN0ZSBkXHUwMEU5alx1MDBFMCBvdSBlcnJldXIgZGUgcGVybWlzc2lvbnNcblx0XHRcdGNvbnNvbGUubG9nKGBSXHUwMEU5cGVydG9pcmUgJHtkaXJQYXRofSBleGlzdGUgZFx1MDBFOWpcdTAwRTAgb3UgZXJyZXVyOmAsIGVycm9yKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogT2J0aWVudCBsZSBzXHUwMEU5cGFyYXRldXIgZGUgY2hlbWluIHBvdXIgbGEgcGxhdGVmb3JtZVxuXHQgKi9cblx0Z2V0UGF0aFNlcGFyYXRvcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiBwYXRoLnNlcDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0aXQgdW4gY2hlbWluIFdpbmRvd3MgZW4gZm9ybWF0IFVuaXggc2kgblx1MDBFOWNlc3NhaXJlXG5cdCAqL1xuXHR0b1VuaXhQYXRoKGlucHV0UGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gaW5wdXRQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0aXQgdW4gY2hlbWluIFVuaXggZW4gZm9ybWF0IFdpbmRvd3Mgc2kgblx1MDBFOWNlc3NhaXJlXG5cdCAqL1xuXHR0b1dpbmRvd3NQYXRoKGlucHV0UGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gaW5wdXRQYXRoLnJlcGxhY2UoL1xcLy9nLCAnXFxcXCcpO1xuXHR9XG59ICIsICJpbXBvcnQgeyBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF0ZXhTZXR0aW5ncyB7XG5cdC8vIFBhcmFtXHUwMEU4dHJlcyBkZSBiYXNlXG5cdGRvY3VtZW50Q2xhc3M6IHN0cmluZztcblx0Zm9udFNpemU6IHN0cmluZztcblx0YXV0aG9yOiBzdHJpbmc7XG5cdHRpdGxlOiBzdHJpbmc7XG5cdG1hcmdpbjogc3RyaW5nO1xuXHRcblx0Ly8gUGFyYW1cdTAwRTh0cmVzIGRlIHBhcmFncmFwaGVcblx0cGFyYWdyYXBoSW5kZW50OiBudW1iZXI7XG5cdGFkZFRhYmxlT2ZDb250ZW50czogYm9vbGVhbjtcblx0YWRkTmV3UGFnZUJlZm9yZUJpYmxpb2dyYXBoeTogYm9vbGVhbjtcblx0YWxsb3dEaXNwbGF5QnJlYWtzOiBib29sZWFuO1xuXHRcblx0Ly8gUGFyYW1cdTAwRTh0cmVzIGRlIGZpZ3VyZXNcblx0cmVkdWNlU3BhY2luZ0JldHdlZW5GaWd1cmVzOiBib29sZWFuO1xuXHRwdXRGaWd1cmVCZWxvd1RleHQ6IGJvb2xlYW47XG5cdGluY2x1ZGVQYXRoOiBib29sZWFuO1xuXHRcblx0Ly8gUGFyYW1cdTAwRTh0cmVzIGRlIHJcdTAwRTlmXHUwMEU5cmVuY2VzXG5cdGNvbnZlcnROb25FbWJlZGRlZFJlZmVyZW5jZXM6IGJvb2xlYW47XG5cdHRyZWF0RXF1YXRpb25CbG9ja3NTZXBhcmF0ZWx5OiBib29sZWFuO1xuXHRhZGFwdFNlY3Rpb25IaWVyYXJjaHk6IGJvb2xlYW47XG5cdFxuXHQvLyBQYXJhbVx1MDBFOHRyZXMgZGUgbGllbnMgaW50ZXJuZXNcblx0YWRkU2VjdGlvbk51bWJlckFmdGVyUmVmZXJlbmNpbmc6IGJvb2xlYW47XG5cdFxuXHQvLyBQYXJhbVx1MDBFOHRyZXMgZGUgdGFibGVhdXhcblx0dGFibGVQYWNrYWdlOiBzdHJpbmc7XG5cdHRhYmxlQWxpZ25tZW50OiBzdHJpbmc7XG5cdHRhYmxlUmVsV2lkdGg6IG51bWJlcjtcblx0XG5cdC8vIFBhcmFtXHUwMEU4dHJlcyBkZSBjb21waWxhdGlvblxuXHRsYXRleENvbXBpbGVyOiBzdHJpbmc7XG5cdGF1dG9Db21waWxlOiBib29sZWFuO1xuXHRcblx0Ly8gQ2hlbWluc1xuXHR3cml0aW5nUGF0aDogc3RyaW5nO1xuXHRhdXRvbWF0aW9uc1BhdGg6IHN0cmluZztcblx0bGl0ZXJhdHVyZVBhdGg6IHN0cmluZztcblx0ZXF1YXRpb25CbG9ja3NQYXRoOiBzdHJpbmc7XG5cdHRhYmxlQmxvY2tzUGF0aDogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTGF0ZXhTZXR0aW5ncyA9IHtcblx0Ly8gUGFyYW1cdTAwRTh0cmVzIGRlIGJhc2Vcblx0ZG9jdW1lbnRDbGFzczogJ2V4dGFydGljbGUnLFxuXHRmb250U2l6ZTogJycsXG5cdGF1dGhvcjogJ0F1dGV1cicsXG5cdHRpdGxlOiAnJyxcblx0bWFyZ2luOiAnMC45aW4nLFxuXHRcblx0Ly8gUGFyYW1cdTAwRTh0cmVzIGRlIHBhcmFncmFwaGVcblx0cGFyYWdyYXBoSW5kZW50OiAwLFxuXHRhZGRUYWJsZU9mQ29udGVudHM6IHRydWUsXG5cdGFkZE5ld1BhZ2VCZWZvcmVCaWJsaW9ncmFwaHk6IHRydWUsXG5cdGFsbG93RGlzcGxheUJyZWFrczogdHJ1ZSxcblx0XG5cdC8vIFBhcmFtXHUwMEU4dHJlcyBkZSBmaWd1cmVzXG5cdHJlZHVjZVNwYWNpbmdCZXR3ZWVuRmlndXJlczogZmFsc2UsXG5cdHB1dEZpZ3VyZUJlbG93VGV4dDogdHJ1ZSxcblx0aW5jbHVkZVBhdGg6IHRydWUsXG5cdFxuXHQvLyBQYXJhbVx1MDBFOHRyZXMgZGUgclx1MDBFOWZcdTAwRTlyZW5jZXNcblx0Y29udmVydE5vbkVtYmVkZGVkUmVmZXJlbmNlczogdHJ1ZSxcblx0dHJlYXRFcXVhdGlvbkJsb2Nrc1NlcGFyYXRlbHk6IHRydWUsXG5cdGFkYXB0U2VjdGlvbkhpZXJhcmNoeTogdHJ1ZSxcblx0XG5cdC8vIFBhcmFtXHUwMEU4dHJlcyBkZSBsaWVucyBpbnRlcm5lc1xuXHRhZGRTZWN0aW9uTnVtYmVyQWZ0ZXJSZWZlcmVuY2luZzogdHJ1ZSxcblx0XG5cdC8vIFBhcmFtXHUwMEU4dHJlcyBkZSB0YWJsZWF1eFxuXHR0YWJsZVBhY2thZ2U6ICd0YWJ1bGFyeCcsXG5cdHRhYmxlQWxpZ25tZW50OiAnY2VudGVyJyxcblx0dGFibGVSZWxXaWR0aDogMS4yLFxuXHRcblx0Ly8gUGFyYW1cdTAwRTh0cmVzIGRlIGNvbXBpbGF0aW9uXG5cdGxhdGV4Q29tcGlsZXI6ICdwZGZsYXRleCcsXG5cdGF1dG9Db21waWxlOiB0cnVlLFxuXHRcblx0Ly8gQ2hlbWlucyAoc2Vyb250IGRcdTAwRTlmaW5pcyBkeW5hbWlxdWVtZW50KVxuXHR3cml0aW5nUGF0aDogJycsXG5cdGF1dG9tYXRpb25zUGF0aDogJycsXG5cdGxpdGVyYXR1cmVQYXRoOiAnJyxcblx0ZXF1YXRpb25CbG9ja3NQYXRoOiAnJyxcblx0dGFibGVCbG9ja3NQYXRoOiAnJ1xufTtcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XG5cdHByaXZhdGUgc2V0dGluZ3M6IExhdGV4U2V0dGluZ3MgPSBERUZBVUxUX1NFVFRJTkdTO1xuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBEYW5zIHVuIHZyYWkgcGx1Z2luLCBvbiBjaGFyZ2VyYWl0IGRlcHVpcyBsZXMgcGFyYW1cdTAwRTh0cmVzIE9ic2lkaWFuXG5cdFx0Ly8gUG91ciBsJ2luc3RhbnQsIG9uIHV0aWxpc2UgbGVzIHZhbGV1cnMgcGFyIGRcdTAwRTlmYXV0XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHsgLi4uREVGQVVMVF9TRVRUSU5HUyB9O1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIERhbnMgdW4gdnJhaSBwbHVnaW4sIG9uIHNhdXZlZ2FyZGVyYWl0IGRhbnMgbGVzIHBhcmFtXHUwMEU4dHJlcyBPYnNpZGlhblxuXHRcdGNvbnNvbGUubG9nKCdTYXV2ZWdhcmRlIGRlcyBwYXJhbVx1MDBFOHRyZXM6JywgdGhpcy5zZXR0aW5ncyk7XG5cdH1cblxuXHRnZXRTZXR0aW5ncygpOiBMYXRleFNldHRpbmdzIHtcblx0XHRyZXR1cm4geyAuLi50aGlzLnNldHRpbmdzIH07XG5cdH1cblxuXHR1cGRhdGVTZXR0aW5ncyhuZXdTZXR0aW5nczogUGFydGlhbDxMYXRleFNldHRpbmdzPik6IHZvaWQge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSB7IC4uLnRoaXMuc2V0dGluZ3MsIC4uLm5ld1NldHRpbmdzIH07XG5cdH1cblxuXHQvLyBHZXR0ZXJzIHBvdXIgbGVzIHBhcmFtXHUwMEU4dHJlcyBzcFx1MDBFOWNpZmlxdWVzXG5cdGdldERvY3VtZW50Q2xhc3MoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5kb2N1bWVudENsYXNzO1xuXHR9XG5cblx0Z2V0Rm9udFNpemUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5mb250U2l6ZTtcblx0fVxuXG5cdGdldEF1dGhvcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmF1dGhvcjtcblx0fVxuXG5cdGdldFRpdGxlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MudGl0bGU7XG5cdH1cblxuXHRnZXRNYXJnaW4oKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5tYXJnaW47XG5cdH1cblxuXHRnZXRQYXJhZ3JhcGhJbmRlbnQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5wYXJhZ3JhcGhJbmRlbnQ7XG5cdH1cblxuXHRnZXRBZGRUYWJsZU9mQ29udGVudHMoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MuYWRkVGFibGVPZkNvbnRlbnRzO1xuXHR9XG5cblx0Z2V0QWRkTmV3UGFnZUJlZm9yZUJpYmxpb2dyYXBoeSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5hZGROZXdQYWdlQmVmb3JlQmlibGlvZ3JhcGh5O1xuXHR9XG5cblx0Z2V0QWxsb3dEaXNwbGF5QnJlYWtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmFsbG93RGlzcGxheUJyZWFrcztcblx0fVxuXG5cdGdldFJlZHVjZVNwYWNpbmdCZXR3ZWVuRmlndXJlcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5yZWR1Y2VTcGFjaW5nQmV0d2VlbkZpZ3VyZXM7XG5cdH1cblxuXHRnZXRQdXRGaWd1cmVCZWxvd1RleHQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MucHV0RmlndXJlQmVsb3dUZXh0O1xuXHR9XG5cblx0Z2V0SW5jbHVkZVBhdGgoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MuaW5jbHVkZVBhdGg7XG5cdH1cblxuXHRnZXRDb252ZXJ0Tm9uRW1iZWRkZWRSZWZlcmVuY2VzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmNvbnZlcnROb25FbWJlZGRlZFJlZmVyZW5jZXM7XG5cdH1cblxuXHRnZXRUcmVhdEVxdWF0aW9uQmxvY2tzU2VwYXJhdGVseSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy50cmVhdEVxdWF0aW9uQmxvY2tzU2VwYXJhdGVseTtcblx0fVxuXG5cdGdldEFkYXB0U2VjdGlvbkhpZXJhcmNoeSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5hZGFwdFNlY3Rpb25IaWVyYXJjaHk7XG5cdH1cblxuXHRnZXRBZGRTZWN0aW9uTnVtYmVyQWZ0ZXJSZWZlcmVuY2luZygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5hZGRTZWN0aW9uTnVtYmVyQWZ0ZXJSZWZlcmVuY2luZztcblx0fVxuXG5cdGdldFRhYmxlUGFja2FnZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLnRhYmxlUGFja2FnZTtcblx0fVxuXG5cdGdldFRhYmxlQWxpZ25tZW50KCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MudGFibGVBbGlnbm1lbnQ7XG5cdH1cblxuXHRnZXRUYWJsZVJlbFdpZHRoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MudGFibGVSZWxXaWR0aDtcblx0fVxuXG5cdGdldExhdGV4Q29tcGlsZXIoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5sYXRleENvbXBpbGVyO1xuXHR9XG5cblx0Z2V0QXV0b0NvbXBpbGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MuYXV0b0NvbXBpbGU7XG5cdH1cblxuXHQvLyBNXHUwMEU5dGhvZGVzIHBvdXIgbWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBjaGVtaW5zXG5cdHNldFdyaXRpbmdQYXRoKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuc2V0dGluZ3Mud3JpdGluZ1BhdGggPSBwYXRoO1xuXHR9XG5cblx0c2V0QXV0b21hdGlvbnNQYXRoKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuc2V0dGluZ3MuYXV0b21hdGlvbnNQYXRoID0gcGF0aDtcblx0fVxuXG5cdHNldExpdGVyYXR1cmVQYXRoKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuc2V0dGluZ3MubGl0ZXJhdHVyZVBhdGggPSBwYXRoO1xuXHR9XG5cblx0c2V0RXF1YXRpb25CbG9ja3NQYXRoKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuc2V0dGluZ3MuZXF1YXRpb25CbG9ja3NQYXRoID0gcGF0aDtcblx0fVxuXG5cdHNldFRhYmxlQmxvY2tzUGF0aChwYXRoOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnNldHRpbmdzLnRhYmxlQmxvY2tzUGF0aCA9IHBhdGg7XG5cdH1cbn0gIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBTdHJhaWdodGZvcndhcmRPYnNpZGlhbjJMYXRleFBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IFNldHRpbmdzTWFuYWdlciB9IGZyb20gJy4vU2V0dGluZ3NNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIExhdGV4U2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBTdHJhaWdodGZvcndhcmRPYnNpZGlhbjJMYXRleFBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBTdHJhaWdodGZvcndhcmRPYnNpZGlhbjJMYXRleFBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnUGFyYW1cdTAwRTh0cmVzIExhVGVYJyB9KTtcblxuXHRcdC8vIFNlY3Rpb24gUGFyYW1cdTAwRTh0cmVzIGRlIGJhc2Vcblx0XHR0aGlzLmNyZWF0ZUJhc2ljU2V0dGluZ3NTZWN0aW9uKGNvbnRhaW5lckVsKTtcblxuXHRcdC8vIFNlY3Rpb24gUGFyYW1cdTAwRTh0cmVzIGRlIHBhcmFncmFwaGVcblx0XHR0aGlzLmNyZWF0ZVBhcmFncmFwaFNldHRpbmdzU2VjdGlvbihjb250YWluZXJFbCk7XG5cblx0XHQvLyBTZWN0aW9uIFBhcmFtXHUwMEU4dHJlcyBkZSBmaWd1cmVzXG5cdFx0dGhpcy5jcmVhdGVGaWd1cmVTZXR0aW5nc1NlY3Rpb24oY29udGFpbmVyRWwpO1xuXG5cdFx0Ly8gU2VjdGlvbiBQYXJhbVx1MDBFOHRyZXMgZGUgclx1MDBFOWZcdTAwRTlyZW5jZXNcblx0XHR0aGlzLmNyZWF0ZVJlZmVyZW5jZVNldHRpbmdzU2VjdGlvbihjb250YWluZXJFbCk7XG5cblx0XHQvLyBTZWN0aW9uIFBhcmFtXHUwMEU4dHJlcyBkZSB0YWJsZWF1eFxuXHRcdHRoaXMuY3JlYXRlVGFibGVTZXR0aW5nc1NlY3Rpb24oY29udGFpbmVyRWwpO1xuXG5cdFx0Ly8gU2VjdGlvbiBQYXJhbVx1MDBFOHRyZXMgZGUgY29tcGlsYXRpb25cblx0XHR0aGlzLmNyZWF0ZUNvbXBpbGF0aW9uU2V0dGluZ3NTZWN0aW9uKGNvbnRhaW5lckVsKTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlQmFzaWNTZXR0aW5nc1NlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGFyYW1cdTAwRTh0cmVzIGRlIGJhc2UnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQ2xhc3NlIGRlIGRvY3VtZW50Jylcblx0XHRcdC5zZXREZXNjKCdDbGFzc2UgTGFUZVggXHUwMEUwIHV0aWxpc2VyJylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9uKCdleHRhcnRpY2xlJywgJ0FydGljbGUgXHUwMEU5dGVuZHUnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCdhcnRpY2xlJywgJ0FydGljbGUgc3RhbmRhcmQnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpZmFjY29uZicsICdDb25mXHUwMEU5cmVuY2UgSUZBQycpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXREb2N1bWVudENsYXNzKCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51cGRhdGVTZXR0aW5ncyh7IGRvY3VtZW50Q2xhc3M6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdUYWlsbGUgZGUgcG9saWNlJylcblx0XHRcdC5zZXREZXNjKCdUYWlsbGUgZGUgcG9saWNlIChleDogMTJwdCwgMTFwdCknKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignMTJwdCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRGb250U2l6ZSgpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBmb250U2l6ZTogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0F1dGV1cicpXG5cdFx0XHQuc2V0RGVzYygnTm9tIGRlIGxcXCdhdXRldXInKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignVm90cmUgbm9tJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldEF1dGhvcigpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBhdXRob3I6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdUaXRyZScpXG5cdFx0XHQuc2V0RGVzYygnVGl0cmUgZHUgZG9jdW1lbnQnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignVGl0cmUgZHUgZG9jdW1lbnQnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0VGl0bGUoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVwZGF0ZVNldHRpbmdzKHsgdGl0bGU6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdNYXJnZXMnKVxuXHRcdFx0LnNldERlc2MoJ01hcmdlcyBkZSBwYWdlIChleDogMC45aW4pJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzAuOWluJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldE1hcmdpbigpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBtYXJnaW46IHZhbHVlIH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZVBhcmFncmFwaFNldHRpbmdzU2VjdGlvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdQYXJhbVx1MDBFOHRyZXMgZGUgcGFyYWdyYXBoZScgfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdJbmRlbnRhdGlvbiBwcmVtaVx1MDBFOHJlIGxpZ25lJylcblx0XHRcdC5zZXREZXNjKCdJbmRlbnRhdGlvbiBlbiBwb2ludHMgKDAgcG91ciBhdWN1bmUpJylcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuXHRcdFx0XHQuc2V0TGltaXRzKDAsIDUwLCA1KVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0UGFyYWdyYXBoSW5kZW50KCkpXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51cGRhdGVTZXR0aW5ncyh7IHBhcmFncmFwaEluZGVudDogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1RhYmxlIGRlcyBtYXRpXHUwMEU4cmVzJylcblx0XHRcdC5zZXREZXNjKCdBam91dGVyIHVuZSB0YWJsZSBkZXMgbWF0aVx1MDBFOHJlcycpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldEFkZFRhYmxlT2ZDb250ZW50cygpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBhZGRUYWJsZU9mQ29udGVudHM6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdOb3V2ZWxsZSBwYWdlIGF2YW50IGJpYmxpb2dyYXBoaWUnKVxuXHRcdFx0LnNldERlc2MoJ0luc1x1MDBFOXJlciB1bmUgbm91dmVsbGUgcGFnZSBhdmFudCBsYSBiaWJsaW9ncmFwaGllJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0QWRkTmV3UGFnZUJlZm9yZUJpYmxpb2dyYXBoeSgpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBhZGROZXdQYWdlQmVmb3JlQmlibGlvZ3JhcGh5OiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQXV0b3Jpc2VyIGxlcyBzYXV0cyBkZSBwYWdlJylcblx0XHRcdC5zZXREZXNjKCdBdXRvcmlzZXIgbGVzIHNhdXRzIGRlIHBhZ2UgZGFucyBsZXMgXHUwMEU5cXVhdGlvbnMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRBbGxvd0Rpc3BsYXlCcmVha3MoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVwZGF0ZVNldHRpbmdzKHsgYWxsb3dEaXNwbGF5QnJlYWtzOiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVGaWd1cmVTZXR0aW5nc1NlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGFyYW1cdTAwRTh0cmVzIGRlIGZpZ3VyZXMnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnUlx1MDBFOWR1aXJlIGxcXCdlc3BhY2VtZW50IGVudHJlIGZpZ3VyZXMnKVxuXHRcdFx0LnNldERlc2MoJ1JcdTAwRTlkdWlyZSBsXFwnZXNwYWNlbWVudCBlbnRyZSBsZXMgZmlndXJlcycpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFJlZHVjZVNwYWNpbmdCZXR3ZWVuRmlndXJlcygpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyByZWR1Y2VTcGFjaW5nQmV0d2VlbkZpZ3VyZXM6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdGaWd1cmUgc291cyBsZSB0ZXh0ZScpXG5cdFx0XHQuc2V0RGVzYygnUGxhY2VyIGxlcyBmaWd1cmVzIHNvdXMgbGUgdGV4dGUnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRQdXRGaWd1cmVCZWxvd1RleHQoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVwZGF0ZVNldHRpbmdzKHsgcHV0RmlndXJlQmVsb3dUZXh0OiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnSW5jbHVyZSBsZSBjaGVtaW4nKVxuXHRcdFx0LnNldERlc2MoJ0luY2x1cmUgbGUgY2hlbWluIGNvbXBsZXQgZGVzIGltYWdlcycpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldEluY2x1ZGVQYXRoKCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51cGRhdGVTZXR0aW5ncyh7IGluY2x1ZGVQYXRoOiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVSZWZlcmVuY2VTZXR0aW5nc1NlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGFyYW1cdTAwRTh0cmVzIGRlIHJcdTAwRTlmXHUwMEU5cmVuY2VzJyB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0NvbnZlcnRpciBsZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgbm9uLWVtYmFycXVcdTAwRTllcycpXG5cdFx0XHQuc2V0RGVzYygnQ29udmVydGlyIFtbbm90ZV1dIGVuIHRleHRlIHNpbXBsZScpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldENvbnZlcnROb25FbWJlZGRlZFJlZmVyZW5jZXMoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVwZGF0ZVNldHRpbmdzKHsgY29udmVydE5vbkVtYmVkZGVkUmVmZXJlbmNlczogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1RyYWl0ZXIgbGVzIGJsb2NzIGRcXCdcdTAwRTlxdWF0aW9ucyBzXHUwMEU5cGFyXHUwMEU5bWVudCcpXG5cdFx0XHQuc2V0RGVzYygnVHJhaXRlciBsZXMgYmxvY3MgZFxcJ1x1MDBFOXF1YXRpb25zIGRlIG1hbmlcdTAwRThyZSBzXHUwMEU5cGFyXHUwMEU5ZScpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFRyZWF0RXF1YXRpb25CbG9ja3NTZXBhcmF0ZWx5KCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51cGRhdGVTZXR0aW5ncyh7IHRyZWF0RXF1YXRpb25CbG9ja3NTZXBhcmF0ZWx5OiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQWRhcHRlciBsYSBoaVx1MDBFOXJhcmNoaWUgZGVzIHNlY3Rpb25zJylcblx0XHRcdC5zZXREZXNjKCdBZGFwdGVyIGxhIGhpXHUwMEU5cmFyY2hpZSBkZXMgc2VjdGlvbnMgZGFucyBsZXMgbm90ZXMgZW1iYXJxdVx1MDBFOWVzJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0QWRhcHRTZWN0aW9uSGllcmFyY2h5KCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51cGRhdGVTZXR0aW5ncyh7IGFkYXB0U2VjdGlvbkhpZXJhcmNoeTogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ051bVx1MDBFOXJvIGRlIHNlY3Rpb24gYXByXHUwMEU4cyByXHUwMEU5Zlx1MDBFOXJlbmNlJylcblx0XHRcdC5zZXREZXNjKCdBam91dGVyIGxlIG51bVx1MDBFOXJvIGRlIHNlY3Rpb24gYXByXHUwMEU4cyBsZXMgclx1MDBFOWZcdTAwRTlyZW5jZXMgaW50ZXJuZXMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRBZGRTZWN0aW9uTnVtYmVyQWZ0ZXJSZWZlcmVuY2luZygpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBhZGRTZWN0aW9uTnVtYmVyQWZ0ZXJSZWZlcmVuY2luZzogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlVGFibGVTZXR0aW5nc1NlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGFyYW1cdTAwRTh0cmVzIGRlIHRhYmxlYXV4JyB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1BhY2thZ2UgZGUgdGFibGVhdScpXG5cdFx0XHQuc2V0RGVzYygnUGFja2FnZSBMYVRlWCBwb3VyIGxlcyB0YWJsZWF1eCcpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cblx0XHRcdFx0LmFkZE9wdGlvbigndGFidWxhcngnLCAndGFidWxhcngnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCdsb25ndGFibGUnLCAnbG9uZ3RhYmxlJylcblx0XHRcdFx0LmFkZE9wdGlvbigndGFidWxhcnJheScsICd0YWJ1bGFycmF5Jylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFRhYmxlUGFja2FnZSgpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyB0YWJsZVBhY2thZ2U6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdBbGlnbmVtZW50IGRlcyB0YWJsZWF1eCcpXG5cdFx0XHQuc2V0RGVzYygnQWxpZ25lbWVudCBwYXIgZFx1MDBFOWZhdXQgZGVzIHRhYmxlYXV4Jylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9uKCdjZW50ZXInLCAnQ2VudHJcdTAwRTknKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCdsZWZ0JywgJ0dhdWNoZScpXG5cdFx0XHRcdC5hZGRPcHRpb24oJ3JpZ2h0JywgJ0Ryb2l0ZScpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRUYWJsZUFsaWdubWVudCgpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyB0YWJsZUFsaWdubWVudDogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0xhcmdldXIgcmVsYXRpdmUgZGVzIHRhYmxlYXV4Jylcblx0XHRcdC5zZXREZXNjKCdMYXJnZXVyIHJlbGF0aXZlIGRlcyB0YWJsZWF1eCAoMS4wID0gMTAwJSknKVxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMC41LCAyLjAsIDAuMSlcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFRhYmxlUmVsV2lkdGgoKSlcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVwZGF0ZVNldHRpbmdzKHsgdGFibGVSZWxXaWR0aDogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlQ29tcGlsYXRpb25TZXR0aW5nc1NlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGFyYW1cdTAwRTh0cmVzIGRlIGNvbXBpbGF0aW9uJyB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0NvbXBpbGF0ZXVyIExhVGVYJylcblx0XHRcdC5zZXREZXNjKCdDb21waWxhdGV1ciBMYVRlWCBcdTAwRTAgdXRpbGlzZXInKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHRcdC5hZGRPcHRpb24oJ3BkZmxhdGV4JywgJ3BkZmxhdGV4Jylcblx0XHRcdFx0LmFkZE9wdGlvbigneGVsYXRleCcsICd4ZWxhdGV4Jylcblx0XHRcdFx0LmFkZE9wdGlvbignbHVhbGF0ZXgnLCAnbHVhbGF0ZXgnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0TGF0ZXhDb21waWxlcigpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBsYXRleENvbXBpbGVyOiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQ29tcGlsYXRpb24gYXV0b21hdGlxdWUnKVxuXHRcdFx0LnNldERlc2MoJ0NvbXBpbGVyIGF1dG9tYXRpcXVlbWVudCBhcHJcdTAwRThzIGNvbnZlcnNpb24nKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRBdXRvQ29tcGlsZSgpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXBkYXRlU2V0dGluZ3MoeyBhdXRvQ29tcGlsZTogdmFsdWUgfSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0fVxufSAiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFBNkU7OztBQ0E3RSxzQkFBd0Q7OztBQ0dqRCw4QkFBd0I7QUFBQSxFQUk5QixZQUFZLEtBQVUsVUFBMkI7QUFDaEQsU0FBSyxNQUFNO0FBQ1gsU0FBSyxXQUFXO0FBQUE7QUFBQSxRQU1YLFFBQVEsT0FBb0M7QUFDakQsUUFB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
